(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ie(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function ki(e){return e!=null&&typeof e.GetEnumerator=="function"}function Ti(e){return e!=null&&typeof e.CompareTo=="function"}function Di(e){return e!=null&&typeof e.Equals=="function"}function Ii(e){return e!=null&&typeof e.GetHashCode=="function"}function vi(e){return e!=null&&typeof e.Dispose=="function"}function J(e){vi(e)&&e.Dispose()}function We(){return null}function Mn(e,t){return Object.getPrototypeOf(e)?.constructor===Object.getPrototypeOf(t)?.constructor}class Vi{constructor(t){this.iter=t,this.current=We()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function W(e){return ki(e)?e.GetEnumerator():new Vi(e[Symbol.iterator]())}function Ot(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}class oo{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function j(e,t){return e.toString(10).padStart(t,"0")}function ls(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function Fi(e,t){return e=e<0&&t!=null&&t!==10?65535+e+1:e,e.toString(t)}function st(e,t){return e=e<0&&t!=null&&t!==10?4294967295+e+1:e,e.toString(t)}class et{static id(t){return et.idMap.has(t)||et.idMap.set(t,++et.count),et.idMap.get(t)}}et.idMap=new WeakMap;et.count=0;function vr(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function Xe(e){return e*2654435761|0}function Ai(e){return vr(e.toString(32))}function un(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const s=e[r];t=(t<<5)+t^s}return t}function Oi(e){return e.getTime()}function Li(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=je(e[r]);return un(n)}function je(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return Xe(e);case"bigint":return Ai(e);case"string":return vr(e);default:{if(Ii(e))return e.GetHashCode();if(Ie(e))return Li(e);if(e instanceof Date)return Oi(e);if(Object.getPrototypeOf(e)?.constructor===Object){const t=Object.values(e).map(n=>je(n));return un(t)}else return Xe(et.id(e))}}}function dr(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function io(e,t){return dr(e,t,Me)}function Pi(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!Me(e[n[s]],t[r[s]]))return!1;return!0}function Me(e,t){return e===t?!0:e==null?t==null:t==null?!1:Di(e)?e.Equals(t):Ie(e)?Ie(t)&&io(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&Vr(e,t)===0:Object.getPrototypeOf(e)?.constructor===Object&&Pi(e,t)}function Vr(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+ls(e),r=t.getTime()+ls(t)),n===r?0:n<r?-1:1}function uo(e,t){return e===t?0:e<t?-1:1}function $i(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,s=0;r<e.length;r++)if(s=n(e[r],t[r]),s!==0)return s;return 0}function lo(e,t){return $i(e,t,Ne)}function Bi(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let s=0,o=0;s<n.length;s++){const i=n[s];if(i!==r[s])return i<r[s]?-1:1;if(o=Ne(e[i],t[i]),o!==0)return o}return 0}function Ne(e,t){return e===t?0:e==null?t==null?0:-1:t==null?1:Ti(e)?e.CompareTo(t):Ie(e)?Ie(t)?lo(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?Vr(e,t):-1:Object.getPrototypeOf(e)?.constructor===Object?Bi(e,t):-1}function co(e){let t=e;return(...n)=>{if(n.length===0)return t;t=n[0]}}function hr(e,t=0){const n=Math.pow(10,t),r=+(t?e*n:e).toFixed(8),s=Math.floor(r),o=r-s,i=1e-8,u=o>.5-i&&o<.5+i?s%2===0?s:s+1:Math.round(r);return t?u/n:u}function qe(e){Ie(e)?e.splice(0):e.clear()}const ao=new WeakMap;function fe(e){if(e==null)return null;const t=(n,r)=>e(n)(r);return ao.set(t,e),t}function Hi(e){if(e==null)return null;const t=(n,r,s)=>e(n)(r)(s);return ao.set(t,e),t}function Ui(e,t,n,r,s){if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))n.set(e.subarray(t,t+s),r);else for(let o=0;o<s;++o)n[r+o]=e[t+o]}function Wi(e){let t=0,n="[";for(const r of e){if(t===0)n+=Pe(r);else if(t===100){n+="; ...";break}else n+="; "+Pe(r);t++}return n+"]"}function Pe(e,t=0){if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return Wi(e);{const n=Object.getPrototypeOf(e)?.constructor;return n===Object&&t<10?"{ "+Object.entries(e).map(([r,s])=>r+" = "+Pe(s,t+1)).join(`
  `)+" }":n?.name??""}}return String(e)}function Ni(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=Pe(t[0]),r=n.indexOf(" ")>=0):n=t.map(s=>Pe(s)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class ge{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return Ni(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>je(n));return t.splice(0,0,Xe(this.tag)),un(t)}Equals(t){return this===t?!0:Mn(this,t)&&this.tag===t.tag?io(this.fields,t.fields):!1}CompareTo(t){return this===t?0:Mn(this,t)?this.tag===t.tag?lo(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function Gi(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function Zi(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+Pe(n)).join(`
  `)+" }"}function Yi(e){const t=Object.values(e).map(n=>je(n));return un(t)}function Xi(e,t){if(e===t)return!0;if(Mn(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!Me(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function Ki(e,t){if(e===t)return 0;if(Mn(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=Ne(e[n[r]],t[n[r]]);if(s!==0)return s}return 0}else return-1}class ${toJSON(){return Gi(this)}toString(){return Zi(this)}GetHashCode(){return Yi(this)}Equals(t){return Xi(this,t)}CompareTo(t){return Ki(this,t)}}class re{get contents(){return this.getter()}set contents(t){this.setter(t)}constructor(t,n){typeof n=="function"?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=r=>{t=r})}}class ji{constructor(t){this.message=t}}function qi(e){return e instanceof ji||e instanceof Error}function zi(e){return e instanceof Promise}function cs(e){return qi(e)||zi(e)?e:new Error(String(e))}const Lt=Symbol("numeric");function fo(e){return typeof e=="number"||typeof e=="bigint"||e?.[Lt]}function Ji(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function mr(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[Lt]().multiply(t)}function Sn(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[Lt]().toFixed(t)}function En(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[Lt]().toPrecision(t)}function xn(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[Lt]().toExponential(t)}function Rn(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[Lt]().toHex()}class Ze{constructor(t,n,r,s,o,i,u){this.fullname=t,this.generics=n,this.construct=r,this.parent=s,this.fields=o,this.cases=i,this.enumCases=u}toString(){return ne(this)}GetHashCode(){return ho(this)}Equals(t){return _r(this,t)}}function Ke(e){return e.generics!=null?e.generics:[]}function ho(e){const t=vr(e.fullname),n=Ke(e).map(ho);return un([t,...n])}function _r(e,t){return e.fullname===""?t.fullname===""&&dr(kn(e),kn(t),([n,r],[s,o])=>n===s&&_r(r,o)):e.fullname===t.fullname&&dr(Ke(e),Ke(t),_r)}function ln(e,t,n,r){return new Ze(e,t,n,void 0,r)}function Qi(e){return new Ze("Microsoft.FSharp.Collections.FSharpList`1",[e])}function mo(e){return new Ze("[]",[e])}const eu=new Ze("System.Object"),Fr=new Ze("System.String"),xt=new Ze("System.Int32");function Ar(e){if(Array.isArray(e))return e[0];if(e instanceof Ze){const t=On(e);if(t!=null)return Ar(t)+"[]";{const n=e.fullname.lastIndexOf(".");return n===-1?e.fullname:e.fullname.substr(n+1)}}else return e.name}function ne(e){const t=On(e);return t!=null?ne(t)+"[]":e.generics==null||e.generics.length===0?e.fullname:e.fullname+"["+e.generics.map(n=>ne(n)).join(",")+"]"}function tu(e){return On(e)!=null}function On(e){return e.fullname==="[]"&&e.generics?.length===1?e.generics[0]:void 0}function nu(e){return e.generics!=null&&e.generics.length>0}function _o(e){return e.enumCases!=null&&e.enumCases.length>0}function ru(e){return e.generics==null?e:new Ze(e.fullname,e.generics.map(()=>eu))}function su(e){return e.generics?.[0]}function bt(e){if(_o(e)&&e.enumCases!=null)return e.enumCases.map(t=>t[1]);throw new Error(`${e.fullname} is not an enum type`)}function ou(e,t){if(e.enumCases!=null)if(typeof t=="string"){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}else{for(const n of e.enumCases)if(n[1]===t)return n;return["",t]}else throw new Error(`${e.fullname} is not an enum type`)}function Ct(e,t){const n=parseInt(t,10);return ou(e,isNaN(n)?t:n)[1]}function iu(e){if(e.cases!=null)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function kn(e){if(e.fields!=null)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function uu(e){if(go(e)&&e.generics!=null)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function lu(e){return e instanceof Ze?e.cases!=null:e instanceof ge}function cu(e){return e instanceof Ze?e.fields!=null:e instanceof $}function go(e){return e.fullname.startsWith("System.Tuple")}function au(e){return e.fields==null?[]:e.fields}function fu(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return r==null?{}:(e.declaringType.cases?e.declaringType.cases().length==1:!1)?new r(...t):new r(e.tag,t)}function du(e,t){const n=kn(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return e.construct!=null?new e.construct(...t):n.reduce((r,[s,o],i)=>(r[s]=t[i],r),{})}function hu(e,t){return e}class mu extends ${constructor(t,n,r){super(),this.Pixels=t,this.Width=n,this.Height=r}}class Ln extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Ln.prototype)}}function _u(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new Ln);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{e(t)}catch(n){t.onError(cs(n))}});else try{e(t)}catch(n){t.onError(cs(n))}}}class Vt{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return je(this.value)}Equals(t){return t==null?!1:Me(this.value,t instanceof Vt?t.value:t)}CompareTo(t){return t==null?1:Ne(this.value,t instanceof Vt?t.value:t)}}function E(e){if(e==null)throw new Error("Option has no value");return e instanceof Vt?e.value:e}function me(e){return e==null||e instanceof Vt?new Vt(e):e}function pt(e){return e==null?[]:[E(e)]}function y(e,t){return e!=null?E(e):t}function gu(e,t){return t!=null?me(e(E(t))):void 0}class nr extends ge{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Choice1Of2","Choice2Of2"]}}function pu(e){return wu(t=>e.then(t[0]).catch(n=>(n instanceof Ln?t[2]:t[1])(n)))}function wu(e){return _u(t=>e([t.onSuccess,t.onError,t.onCancel]))}BigInt.prototype.toJSON=function(){return`${this.toString()}`};function yu(e,t){return e===t}function Su(e,t){return e+t}function po(e){return BigInt(e)}function bu(e){return BigInt(Math.trunc(e))}function Cu(e){return BigInt(e)}function Pn(e){return BigInt.asIntN(64,e)}function as(e){return Number(e)}const Mu=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Eu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],xu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ru=["January","February","March","April","May","June","July","August","September","October","November","December"];function ye(e,t,n){let r=0,s=t;for(;s<e.length&&e[s]===n;)s++,r++;return r}function fs(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function ku(e,t){let n=t;const r=e[t];let s="",o=!1;for(;t<e.length;){t++;const i=e[t];if(i===r){o=!0;break}else if(i==="\\")if(t<e.length)t++,s+=e[t];else throw new Error("Invalid string format");else s+=i}if(!o)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[s,t-n+1]}function Or(e,t,n){let r=0,s=0,o="";const i=n?ct(e.getTime(),1):e;for(;r<t.length;){const u=t[r];switch(u){case"d":switch(s=ye(t,r,"d"),r+=s,s){case 1:o+=hs(i);break;case 2:o+=j(hs(i),2);break;case 3:o+=Mu[gs(i)];break;case 4:o+=Eu[gs(i)];break}break;case"f":if(s=ye(t,r,"f"),r+=s,s<=3){const _=10**(3-s);o+=j(Math.floor(hn(i)/_),s)}else s<=7&&(o+=(""+hn(i)).padEnd(s,"0"));break;case"F":if(s=ye(t,r,"F"),r+=s,s<=3){const _=10**(3-s),w=Math.floor(hn(i)/_);w!=0&&(o+=j(w,s))}else if(s<=7){const _=hn(i);_!=0&&(o+=j(_,3))}break;case"g":s=ye(t,r,"g"),r+=s,s<=2&&(o+="A.D.");break;case"h":switch(s=ye(t,r,"h"),r+=s,s){case 1:o+=dn(i)%12;break;case 2:o+=j(dn(i)%12,2);break}break;case"H":switch(s=ye(t,r,"H"),r+=s,s){case 1:o+=dn(i);break;case 2:o+=j(dn(i),2);break}break;case"K":switch(s=ye(t,r,"K"),r+=s,s){case 1:switch(ds(i)){case 1:o+="Z";break;case 2:o+=It(i.getTimezoneOffset()*-6e4);break}break}break;case"m":switch(s=ye(t,r,"m"),r+=s,s){case 1:o+=ms(i);break;case 2:o+=j(ms(i),2);break}break;case"M":switch(s=ye(t,r,"M"),r+=s,s){case 1:o+=mn(i);break;case 2:o+=j(mn(i),2);break;case 3:o+=xu[mn(i)-1];break;case 4:o+=Ru[mn(i)-1];break}break;case"s":switch(s=ye(t,r,"s"),r+=s,s){case 1:o+=_s(i);break;case 2:o+=j(_s(i),2);break}break;case"t":switch(s=ye(t,r,"t"),r+=s,s){case 1:o+=i.getHours()<12?"A":"P";break;case 2:o+=i.getHours()<12?"AM":"PM";break}break;case"y":switch(s=ye(t,r,"y"),r+=s,s){case 1:o+=i.getFullYear()%100;break;case 2:o+=j(i.getFullYear()%100,2);break;case 3:o+=j(i.getFullYear(),3);break;case 4:o+=j(i.getFullYear(),4);break;case 5:o+=j(i.getFullYear(),5);break}break;case"z":s=ye(t,r,"z"),r+=s;let l="";switch(ds(i)){case 1:l="+00:00";break;case 2:l=It(i.getTimezoneOffset()*-6e4);break;case 0:l=It(Lu(i).getTimezoneOffset()*-6e4);break}const c=l[0]==="-"?"-":"+",f=parseInt(l.substring(1,3),10),d=parseInt(l.substring(4,6),10);switch(s){case 1:o+=`${c}${f}`;break;case 2:o+=`${c}${j(f,2)}`;break;default:o+=`${c}${j(f,2)}:${j(d,2)}`;break}break;case":":o+=":",r++;break;case"/":o+="/",r++;break;case"'":case'"':const[m,p]=ku(t,r);o+=m,r+=p;break;case"%":const g=fs(t,r);if(g>=0&&g!=="%".charCodeAt(0))r+=2,o+=Or(i,String.fromCharCode(g),n);else throw new Error("Invalid format string");break;case"\\":const h=fs(t,r);if(h>=0)r+=2,o+=String.fromCharCode(h);else throw new Error("Invalid format string");break;default:r++,o+=u;break}}return o}function ds(e){return e.kind||0}function It(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+j(n,2)+":"+j(r,2)}function Tn(e,t){const n=e.toISOString();return t==="first"?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function Tu(e,t){if(t)return e.toISOString();{const n=e.kind==null?!0:e.kind===2;return j(e.getFullYear(),4)+"-"+j(e.getMonth()+1,2)+"-"+j(e.getDate(),2)+"T"+j(e.getHours(),2)+":"+j(e.getMinutes(),2)+":"+j(e.getSeconds(),2)+"."+j(e.getMilliseconds(),3)+(n?It(e.getTimezoneOffset()*-6e4):"")}}function Du(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+It(t)}function Iu(e,t){const n=new Date(e.getTime()+(e.offset??0));if(typeof t!="string")return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+It(e.offset??0);if(t.length===1)switch(t){case"D":case"d":return Tn(n,"first");case"T":case"t":return Tn(n,"second");case"O":case"o":return Du(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}else return Or(n,t,!0)}function vu(e,t){const n=e.kind===1;if(typeof t!="string")return n?e.toUTCString():e.toLocaleString();if(t.length===1)switch(t){case"D":case"d":return n?Tn(e,"first"):e.toLocaleDateString();case"T":case"t":return n?Tn(e,"second"):e.toLocaleTimeString();case"O":case"o":return Tu(e,n);default:throw new Error("Unrecognized Date print format")}else return Or(e,t,n)}function wo(e,t,n){return e.offset!=null?Iu(e,t):vu(e,t)}function ct(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function Vu(){return ct(-621355968e5,0)}function yo(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}(e==null||e.trim()==="")&&t(),e.length===10&&e[4]==="-"&&e[7]==="-"&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const s=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(s!=null){let o,i=0;if(s[2]!=null){const u=s[2].split(":"),l=parseInt(u[0],10);i=l*3600+parseInt(u[1]||"0",10)*60+parseFloat(u[2]||"0"),s[3]!=null&&s[3].toUpperCase()==="PM"&&l<12&&(i+=720)}if(s[4]!=null){if(s[1]!=null)o=new Date(s[1]+" UTC");else{const u=new Date;o=new Date(u.getUTCFullYear()+"/"+(u.getUTCMonth()+1)+"/"+u.getUTCDate())}if(s[4]==="Z")r="Z";else{let u=parseInt(s[5],10)*60+parseInt(s[6]||"0",10);s[4][0]==="-"&&(u*=-1),r=u,i-=u*60}}else if(s[1]!=null)o=new Date(s[1]);else{const u=new Date;o=new Date(u.getFullYear()+"/"+(u.getMonth()+1)+"/"+u.getDate())}n=new Date(o.getTime()+i*1e3),n=new Date(n.getTime()+(n.getTimezoneOffset()-o.getTimezoneOffset())*6e4)}else t();isNaN(n.getTime())&&t()}return[n,r]}function Fu(e,t=!1){const[n,r]=yo(e),s=r!=null?t&&r==="Z"?1:2:0;return ct(n.getTime(),s)}function Au(e,t){try{return t.contents=Fu(e),!0}catch{return!1}}function Qt(){return ct(Date.now(),1)}function Ou(e){return e.kind===1?e:ct(e.getTime(),1)}function Lu(e){return e.kind===2?e:ct(e.getTime(),2)}function hs(e){return e.kind===1?e.getUTCDate():e.getDate()}function dn(e){return e.kind===1?e.getUTCHours():e.getHours()}function hn(e){return e.kind===1?e.getUTCMilliseconds():e.getMilliseconds()}function ms(e){return e.kind===1?e.getUTCMinutes():e.getMinutes()}function mn(e){return(e.kind===1?e.getUTCMonth():e.getMonth())+1}function _s(e){return e.kind===1?e.getUTCSeconds():e.getSeconds()}function gs(e){return e.kind===1?e.getUTCDay():e.getDay()}function So(e,t){const n=ct(e.getTime()+t,e.kind);if(e.kind!==1){const r=e.getTimezoneOffset(),s=n.getTimezoneOffset();return r!==s?ct(n.getTime()+(s-r)*6e4,e.kind):n}else return n}function bo(e,t){return So(e,t)}function Pu(e,t){return typeof t=="number"?So(e,-t):e.getTime()-t.getTime()}const $u=Vr;function Bu(e,t){return Pu(e,t)}function Hu(e,t=0){if(t&-284)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function Uu(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function ps(e,t,n=0){if(t==null)throw new Error("Input cannot ve null");if(!e.global)throw new Error("Non-global RegExp");e.lastIndex=n;const r=[];let s,o=-1;for(;(s=e.exec(t))!=null;)s.index===o?e.lastIndex++:(o=s.index,r.push(s));return r}function Wu(e,t,n,r,s=0){function o(){let i=arguments[0];if(r){r--;const u=[],l=arguments.length,c=typeof arguments[l-1]!="string";let f=c?l-3:l-2;for(let d=0;d<f;d++)u.push(arguments[d]);u.index=arguments[f++],u.input=arguments[f++],c&&(u.groups=arguments[f]),i=n(u)}return i}if(typeof e=="string"){const i=e;e=Hu(t,r??0),t=i,r=void 0}if(typeof n=="function")return r=r??-1,t.substring(0,s)+t.substring(s).replace(e,o);if(n=n.replace(/\$0/g,i=>"$&").replace(/\${([^}]+)}/g,"$<$1>"),r!=null){let i;const u=t.substring(s),l=ps(e,u),c=ps.length>r?(i=l[r-1],u.substring(0,i.index+i[0].length)):u;return t.substring(0,s)+c.replace(e,n)+t.substring(s+c.length)}else return t.replace(e,n)}const Ut=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,Wt=/(?:(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w))?%P\(\)/g,Nu=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function Co(e,t){return Ji(e,t)<0}function Dn(e){return{input:e,cont:Xu(e)}}function Gu(e,t){let n=0,r=0,s="";Wt.lastIndex=0;let o=Wt.exec(e);for(;o;){const i=o.index+(o[1]||"").length;s+=e.substring(r,i).replace(/%%/g,"%");const[,,u,l,c,f]=o;r=Wt.lastIndex,s+=Mo(t[n++],u,l,c,f),Wt.lastIndex=r-1,o=Wt.exec(e)}return s+=e.substring(r).replace(/%%/g,"%"),s}function Lr(e,t){return typeof t=="string"?e(t):t.cont(e)}function Zu(e){return Lr(t=>console.log(t),e)}function In(e){return Lr(t=>t,e)}function Yu(e){return Lr(t=>{throw new Error(t)},e)}function Mo(e,t,n,r,s){let o="";if(t=t||"",s=s||"",fo(e))switch(s.toLowerCase()!=="x"&&(Co(e,0)?(e=mr(e,-1),o="-"):t.indexOf(" ")>=0?o=" ":t.indexOf("+")>=0&&(o="+")),r=r==null?null:parseInt(r,10),s){case"f":case"F":r=r??6,e=Sn(e,r);break;case"g":case"G":e=r!=null?En(e,r):En(e);break;case"e":case"E":e=r!=null?xn(e,r):xn(e);break;case"x":e=Rn(e);break;case"X":e=Rn(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=wo(e):e=Pe(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=o+e;else{const i=t.indexOf("0")>=0,u=t.indexOf("-")>=0,l=u||!i?" ":"0";l==="0"?(e=en(e,n-o.length,l,u),e=o+e):e=en(o+e,n,l,u)}return e}function Eo(e,t,n,r="",s=-1){return(...o)=>{let i=r;const u=t.slice(),l=n.slice();for(const c of o){const[,,f,d,m,p]=l[0];let g=d;if(s>=0)g=s,s=-1;else if(g==="*"){if(c<0)throw new Error("Non-negative number required");s=c;continue}i+=u[0],i+=Mo(c,f,g,m,p),u.splice(0,1),l.splice(0,1)}return l.length===0?(i+=u[0],e(i)):Eo(e,u,l,i,s)}}function Xu(e){return t=>{Ut.lastIndex=0;const n=[],r=[];let s=0,o=Ut.exec(e);for(;o;){const i=o.index+(o[1]||"").length;n.push(e.substring(s,i).replace(/%%/g,"%")),r.push(o),s=Ut.lastIndex,Ut.lastIndex-=1,o=Ut.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(s).replace(/%%/g,"%")),Eo(t,n,r))}}function Ku(e,...t){let n;return typeof e=="object"?(n=String(t[0]),t.shift()):n=e,n.replace(Nu,(r,s,o,i,u,l)=>{if(s<0||s>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let c=t[s];if(fo(c))switch(u=u==null?null:parseInt(u,10),i){case"f":case"F":u=u??2,c=Sn(c,u);break;case"g":case"G":c=u!=null?En(c,u):En(c);break;case"e":case"E":c=u!=null?xn(c,u):xn(c);break;case"p":case"P":u=u??2,c=Sn(mr(c,100),u)+" %";break;case"d":case"D":c=u!=null?rr(String(c),u,"0"):String(c);break;case"x":case"X":c=u!=null?rr(Rn(c),u,"0"):Rn(c),i==="X"&&(c=c.toUpperCase());break;default:if(l){let f="";c=l.replace(/([0#,]+)(\.[0#]+)?/,(d,m,p)=>{Co(c,0)&&(c=mr(c,-1),f="-"),p=p==null?"":p.substring(1),c=Sn(c,Math.max(p.length,0));let[g,h]=c.split(".");h||(h="");const _=m.replace(/,/g,"").replace(/^#+/,"").length;g=rr(g,_,"0");const w=p.replace(/#+$/,"").length;if(w>h.length?h=ju(h,w,"0"):w<h.length&&(h=h.substring(0,w)+h.substring(w).replace(/0+$/,"")),m.indexOf(",")>0){const M=g.length%3,S=Math.floor(g.length/3);let x=M>0?g.substr(0,M)+(S>0?",":""):"";for(let k=0;k<S;k++)x+=g.substr(M+k*3,3)+(k<S-1?",":"");g=x}return h.length>0?g+"."+h:g}),c=f+c}}else c instanceof Date?c=wo(c,l||i):c=Pe(c);return o=parseInt((o||" ").substring(1),10),isNaN(o)||(c=en(String(c),Math.abs(o)," ",o<0)),c})}function $n(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function en(e,t,n,r){n=n||" ",t=t-e.length;for(let s=0;s<t;s++)e=r?e+n:n+e;return e}function rr(e,t,n){return en(e,t,n)}function ju(e,t,n){return en(e,t,n,!0)}function qu(e,t){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.");return e[t]}function zu(e,...t){if(t.length===0)return e.trim();const n="["+Uu(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}function Mt(e,t,n){if(t+(n||0)>e.length)throw new Error("Invalid startIndex and/or length");return n!=null?e.substr(t,n):e.substr(t)}const Ju="The index was outside the range of elements in the collection.",xo="Collection was empty.";function Pr(e,t){return typeof e=="function"?new e(t):new Array(t)}function tn(e,t){return e>t?e:t}function vn(e,t){return e<t?e:t}function Pt(e,t,n,r){const s=t|0;return e.fill(r,s,s+n)}function $r(e,t,n){const r=t.length|0,s=Pr(n,r);for(let o=0;o<=r-1;o++)St(s,o,e(D(o,t)));return s}function Qu(e,t){const n=Pr(t,1);return St(n,0,e),n}function ws(e,t,n){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=Pr(n,e);for(let s=0;s<=e-1;s++)St(r,s,t(s));return r}function bn(e,t,n,r,s){Ui(e,t,n,r,s)}function el(e){return e.slice().reverse()}function tl(e,t){t.push(e)}function nn(e,t){const n=W(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)tl(n["System.Collections.Generic.IEnumerator`1.get_Current"](),t)}finally{J(n)}}function nl(e,t){return t.find(e)}function Bn(e,t,n){const r=e;return n.reduce(r,t)}function D(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function St(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}function gr(e,t){if(!(e<0||e>=t.length))return me(t[e])}function rl(e,t,n){return t.reduceRight((r,s)=>e(s,r),n)}class ve extends ${constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+$n("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const f=E(l),d=E(c);if(Me(i.head,u.head)){s=f,o=d;continue e}else return!1}else return!1;else return c==null}})(n,t)}GetHashCode(){return((r,s,o)=>{e:for(;;){const i=r,u=s,l=o,c=l.tail;if(c!=null){const f=E(c);if(i>18)return u|0;r=i+1,s=(u<<1)+je(l.head)+631*i,o=f;continue e}else return u|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const f=E(l),d=E(c),m=Ne(i.head,u.head)|0;if(m===0){s=f,o=d;continue e}else return m|0}else return 1;else return c!=null?-1:0}})(this,t)|0}GetEnumerator(){return ol(this)}[Symbol.iterator](){return Ot(W(this))}"System.Collections.IEnumerable.GetEnumerator"(){return W(this)}}class sl{constructor(t){this.xs=t,this.it=this.xs,this.current=We()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=E(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=We()}Dispose(){}}function ol(e){return new sl(e)}function Ge(){return new ve(We(),void 0)}function cn(e,t){return new ve(e,t)}function an(e){return e.tail==null}function Ro(e){return((n,r)=>{e:for(;;){const s=n,i=r.tail;if(i!=null){n=s+1,r=E(i);continue e}else return s|0}})(0,e)|0}function Hn(e){if(e.tail!=null)return e.head;throw new Error(xo+"\\nParameter name: list")}function at(e){const t=e.tail;if(t!=null)return E(t);throw new Error(xo+"\\nParameter name: list")}function il(e,t){return((r,s)=>{e:for(;;){const o=r,i=s,u=i.tail;if(u!=null){if(o===t)return i.head;r=o+1,s=E(u);continue e}else throw new Error(Ju+"\\nParameter name: index")}})(0,e)}function Ve(){return Ge()}function Be(e,t){return cn(e,t)}function He(e){return cn(e,Ge())}function H(e){return an(e)}function ko(e){return Ro(e)}function T(e){return Hn(e)}function B(e){return at(e)}function Un(e){const t=Ro(e)|0,n=Pt(new Array(t),0,t,null);return((s,o)=>{e:for(;;){const i=s,u=o;if(!an(u)){St(n,i,Hn(u)),s=i+1,o=at(u);continue e}break}})(0,e),n}function $t(e,t,n){let r=t,s=n;for(;!an(s);)r=e(r,T(s)),s=at(s);return r}function Br(e){return $t((t,n)=>cn(n,t),Ge(),e)}function ul(e,t,n){return((s,o,i)=>{e:for(;;){const u=s,l=o,c=i;if(an(c))return l;s=u+1,o=e(u,l,Hn(c)),i=at(c);continue e}})(0,t,n)}function ll(e,t){$t((n,r)=>{e(r)},void 0,t)}function z(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=cn(D(r,e),n);return n}function Hr(e){return z(e,Ge())}function cl(e){let t,n;if(Ie(e))return Hr(e);if(e instanceof ve)return e;{const r=Ge();let s=r;const o=W(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const l=o["System.Collections.Generic.IEnumerator`1.get_Current"]();s=(t=s,n=new ve(l,void 0),t.tail=n,n)}}finally{J(o)}const i=s,u=Ge();return i.tail=u,at(r)}}function al(e){const t=Ge();let n=t;const r=i=>{n=$t((u,l)=>{const c=new ve(l,void 0);return u.tail=c,c},n,i)};if(Ie(e))e.forEach(r);else if(e instanceof ve)ll(r,e);else{const i=W(e);try{for(;i["System.Collections.IEnumerator.MoveNext"]();)r(i["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{J(i)}}const s=n,o=Ge();return s.tail=o,at(t)}function pr(e,t){return $t((n,r)=>cn(r,n),t,Br(e))}function fl(e,t){const n=Ge(),r=ul((o,i,u)=>{const l=new ve(e(o,u),void 0);return i.tail=l,l},n,t),s=Ge();return r.tail=s,at(n)}function dl(e,t){return((r,s)=>{e:for(;;){const o=r,i=s;if(an(i))return;if(o===e)return me(Hn(i));r=o+1,s=at(i);continue e}})(0,t)}function hl(e,t){return il(t,e)}function ml(e){return new C(0,[e])}function To(e){return new C(1,[e])}class C extends ge{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function ze(e,t){return t.tag===0?ml(e(t.fields[0])):To(t.fields[0])}function _l(e,t){return t.tag===0?e(t.fields[0]):To(t.fields[0])}class gl{constructor(){}}function pl(){return new gl}function wl(e,t){return{then:(n,r)=>{try{return t().then(n,r)}catch(s){if(r==null)return Promise.reject(s);try{const o=r(s);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}},catch:n=>{try{return t().catch(n)}catch(r){try{const s=n(r);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}}}}function yl(e,t){return t.then(n=>n)}const ys=pl();function Sl(e){throw new Error(e)}const bl="Enumeration already finished.",Cl="Enumeration has not started. Call MoveNext.",Ml="Reset is not supported on this enumerator.";function El(){throw new Error(Ml)}function Ur(){throw new Error(Cl)}function wr(){throw new Error(bl)}class xl{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const s=W(t);try{for(;n<4&&s["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+Pe(s["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{J(s)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return Ot(W(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function Rl(e){return new xl(e)}class kl{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){El()}Dispose(){this.dispose()}}function Wr(e,t,n){return new kl(e,t,n)}function Tl(e){let t,n,r=!1,s=!1,o;const i=()=>{if(s=!0,n!=null){const u=E(n);try{J(u)}finally{n=void 0}}if(t!=null){const u=E(t);try{J(u)}finally{t=void 0}}};return Wr(()=>(r?s&&wr():Ur(),o!=null?E(o):wr()),()=>{let u;if(r||(r=!0),s)return!1;{let l;for(;l==null;){const c=t,f=n;if(c!=null)if(f!=null){const d=E(f);if(d["System.Collections.IEnumerator.MoveNext"]())o=me(d["System.Collections.Generic.IEnumerator`1.get_Current"]()),l=!0;else try{J(d)}finally{n=void 0}}else{const d=E(c);d["System.Collections.IEnumerator.MoveNext"]()?n=(u=d["System.Collections.Generic.IEnumerator`1.get_Current"](),W(u)):(i(),l=!1)}else t=W(e)}return E(l)}},()=>{s||i()})}function Dl(e,t,n){let r=!1,s,o=me(e());const i=()=>{if(o!=null){const l=E(o);try{n(l)}finally{o=void 0}}},u=()=>{try{i()}finally{s=void 0}};return Wr(()=>(r||Ur(),s!=null?E(s):wr()),()=>{if(r||(r=!0),o!=null){const l=E(o);let c;try{c=t(l)}catch(f){throw u(),f}return c!=null?(s=c,!0):(u(),!1)}else return!1},i)}function Il(e,t){let n,r=t;return Wr(()=>{if(n!=null){const s=E(n)[0];return E(n)[1],s}else return Ur()},()=>(n=e(r),n!=null?(E(n)[0],r=E(n)[1],!0):!1),()=>{})}function vl(e,t){t==null&&Sl(e)}function Wn(e){return Rl(e)}function Ft(e){return vl("source",e),W(e)}function Ue(e){return Wn(()=>W(e()))}function Do(e){return Wn(()=>Tl(e))}function Io(e,t){return Wn(()=>Il(e,t))}function vo(){return Ue(()=>new Array(0))}function Vo(e){return Ue(()=>Qu(e))}function Vl(e){return e instanceof ve?Un(e):Array.from(e)}function Ss(e){return Ie(e)?Hr(e):e instanceof ve?e:cl(e)}function Fl(e,t,n){return Wn(()=>Dl(e,t,n))}function Nr(e,t){return Do([e,t])}function Al(e,t,n){const r=Ft(t);try{const s=Ft(n);try{let o=0,i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]();for(;o===0&&i&&u;)o=e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),s["System.Collections.Generic.IEnumerator`1.get_Current"]())|0,o===0&&(i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]());return(o!==0?o:i?1:u?-1:0)|0}finally{J(s)}}finally{J(r)}}function Et(e,t,n){const r=Ft(t);try{let s=!1;for(;!s&&r["System.Collections.IEnumerator.MoveNext"]();)s=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{J(r)}}function Fo(e,t){return Do(Io(n=>e()?[t,n+1]:void 0,0))}function Ao(e,t,n){const r=Ft(n);try{let s=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)s=e(s,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{J(r)}}function Ol(e,t){if(Ie(t))return gr(e,t);if(t instanceof ve)return dl(e,t);{const n=Ft(t);try{return(s=>{e:for(;;){const o=s;if(n["System.Collections.IEnumerator.MoveNext"]()){if(o===0)return me(n["System.Collections.Generic.IEnumerator`1.get_Current"]());s=o-1;continue e}else return;break}})(e)}finally{J(n)}}}function Ee(e,t){Ao((n,r)=>{e(r)},void 0,t)}function tt(e,t){return Fl(()=>Ft(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?me(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{J(n)})}function Ll(e){return Ue(()=>el(Vl(e)))}const mt={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4};function sr(e,t){return e.replace(/[a-z]?[A-Z]/g,n=>n.length===1?n.toLowerCase():n.charAt(0)+t+n.charAt(1).toLowerCase())}function Pl(e,t){switch(t){case mt.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case mt.SnakeCase:return sr(e,"_");case mt.SnakeCaseAllCaps:return sr(e,"_").toUpperCase();case mt.KebabCase:return sr(e,"-");case mt.None:default:return e}}function $l(e,t=mt.None){const n={},r=t;function s(i){throw new Error("Cannot infer key and value of "+String(i))}function o(i,u,l){i=Pl(i,u),n[i]=l}for(let i of e){let u=mt.None;if(i==null&&s(i),i instanceof ge){const l=i.cases()[i.tag];i=i.fields.length===0?l:[l].concat(i.fields),u=r}if(Array.isArray(i))switch(i.length){case 0:s(i);break;case 1:o(i[0],u,!0);break;case 2:const l=i[1];o(i[0],u,l);break;default:o(i[0],u,i.slice(1))}else typeof i=="string"?o(i,u,!0):s(i)}return n}function Gr(e,t,n){return e.has(t)?(n.contents=e.get(t),!0):!1}function Bl(e,t){return t.has(e)?!1:(t.add(e),!0)}function Hl(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}function Ul(e,t){if(e.has(t))return e.get(t);throw new Error(`The given key '${t}' was not present in the dictionary.`)}function Wl(e){return st(e.status)+" "+e.statusText+" for URL "+e.url}function Nl(e,t){return fetch(e,$l(t,1)).then(r=>{if(r.ok)return r;throw new Error(Wl(r))})}class Oo{constructor(t,n){this.k=t,this.v=n}}function rn(e,t){return new Oo(e,t)}function te(e){return e.k}function he(e){return e.v}class ee extends Oo{constructor(t,n,r,s,o){super(t,n),this.left=r,this.right=s,this.h=o|0}}function Kt(e,t,n,r,s){return new ee(e,t,n,r,s)}function le(e){return e.left}function ce(e){return e.right}function nt(e){return e.h}function Lo(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=E(r);if(s instanceof ee){const o=s;e=Lo(n+1,le(o)),t=ce(o);continue e}else return n+1|0}else return n|0}}function Gl(e){return Lo(0,e)}function Ae(e,t,n,r){let s,o,i;const u=e;if(u!=null){const d=E(u);i=d instanceof ee?(s=d,nt(s)):1}else i=0;let l;const c=r;if(c!=null){const d=E(c);l=d instanceof ee?(o=d,nt(o)):1}else l=0;const f=(i<l?l:i)|0;return f===0?rn(t,n):Kt(t,n,e,r,f+1)}function bs(e,t,n,r){let s,o,i,u,l,c,f,d,m;const p=e;if(p!=null){const _=E(p);m=_ instanceof ee?(s=_,nt(s)):1}else m=0;let g;const h=r;if(h!=null){const _=E(h);g=_ instanceof ee?(o=_,nt(o)):1}else g=0;if(g>m+2){const _=E(r);if(_ instanceof ee){const w=_;if(i=le(w),(i!=null?(u=E(i),u instanceof ee?(l=u,nt(l)):1):0)>m+1){const M=E(le(w));if(M instanceof ee){const S=M;return Ae(Ae(e,t,n,le(S)),te(S),he(S),Ae(ce(S),te(w),he(w),ce(w)))}else throw new Error("internal error: Map.rebalance")}else return Ae(Ae(e,t,n,le(w)),te(w),he(w),ce(w))}else throw new Error("internal error: Map.rebalance")}else if(m>g+2){const _=E(e);if(_ instanceof ee){const w=_;if(c=ce(w),(c!=null?(f=E(c),f instanceof ee?(d=f,nt(d)):1):0)>g+1){const M=E(ce(w));if(M instanceof ee){const S=M;return Ae(Ae(le(w),te(w),he(w),le(S)),te(S),he(S),Ae(ce(S),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Ae(le(w),te(w),he(w),Ae(ce(w),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Ae(e,t,n,r)}function At(e,t,n,r){if(r!=null){const s=E(r),o=e.Compare(t,te(s))|0;if(s instanceof ee){const i=s;return o<0?bs(At(e,t,n,le(i)),te(i),he(i),ce(i)):o===0?Kt(t,n,le(i),ce(i),nt(i)):bs(le(i),te(i),he(i),At(e,t,n,ce(i)))}else return o<0?Kt(t,n,void 0,r,2):o===0?rn(t,n):Kt(t,n,r,void 0,2)}else return rn(t,n)}function Po(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=E(o),u=r.Compare(s,te(i))|0;if(u===0)return me(he(i));if(i instanceof ee){const l=i;e=r,t=s,n=u<0?le(l):ce(l);continue e}else return}else return}}function Zl(e,t,n){const r=Po(e,t,n);if(r==null)throw new Error;return E(r)}function Yl(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=E(o),u=r.Compare(s,te(i))|0;if(i instanceof ee){const l=i;if(u<0){e=r,t=s,n=le(l);continue e}else{if(u===0)return!0;e=r,t=s,n=ce(l);continue e}}else return u===0}else return!1}}function $o(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=E(r);if(s instanceof ee){const o=s;$o(n,le(o)),n(te(o),he(o)),e=n,t=ce(o);continue e}else n(te(s),he(s))}break}}function Xl(e,t){$o(e,t)}function yr(e,t){if(t!=null){const n=E(t);if(n instanceof ee){const r=n,s=yr(e,le(r)),o=e(te(r),he(r)),i=yr(e,ce(r));return Kt(te(r),o,s,i,nt(r))}else return rn(te(n),e(te(n),he(n)))}else return void 0}function Kl(e,t){return yr(e,t)}function jl(e,t,n){let r=n;Xl((s,o)=>{St(t,r,[s,o]),r=r+1|0},e)}function ql(e,t){return $t((n,r)=>At(e,r[0],r[1],n),void 0,t)}function zl(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=At(r,i[0],i[1],s),n=o;continue e}else return s}}function Jl(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const s=D(r,t);n=At(e,s[0],s[1],n)}return n}function Ql(e,t){if(Ie(t))return Jl(e,t);if(t instanceof ve)return ql(e,t);{const n=W(t);try{return zl(e,void 0,n)}finally{J(n)}}}class ec extends ${constructor(t,n){super(),this.stack=t,this.started=n}}function Bo(e){e:for(;;){const t=e;if(H(t))return Ve();{const n=B(t),r=T(t);if(r!=null){const s=E(r);if(s instanceof ee){const o=s;e=z([le(o),rn(te(o),he(o)),ce(o)],n);continue e}else return t}else{e=n;continue e}}}}function Cs(e){return new ec(Bo(He(e)),!1)}function tc(){throw new Error("enumeration not started")}function nc(){throw new Error("enumeration already finished")}function Ms(e){if(e.started){const t=e.stack;if(H(t))return nc();if(T(t)!=null){const n=E(T(t));if(n instanceof ee)throw new Error("Please report error: Map iterator, unexpected stack for current");return[te(n),he(n)]}else throw new Error("Please report error: Map iterator, unexpected stack for current")}else return tc()}function rc(e){if(e.started){const t=e.stack;if(H(t))return!1;if(T(t)!=null){if(E(T(t))instanceof ee)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=Bo(B(t)),!H(e.stack)}else throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}else return e.started=!0,!H(e.stack)}function Es(e){let t=Cs(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return Ms(t)},"System.Collections.IEnumerator.get_Current"(){return Ms(t)},"System.Collections.IEnumerator.MoveNext"(){return rc(t)},"System.Collections.IEnumerator.Reset"(){t=Cs(e)},Dispose(){}}}class Vn{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return lc(this)|0}Equals(t){const n=this;if(t instanceof Vn){const r=t,s=W(n);try{const o=W(r);try{const i=()=>{const u=s["System.Collections.IEnumerator.MoveNext"]();if(u===o["System.Collections.IEnumerator.MoveNext"]())if(u){const l=s["System.Collections.Generic.IEnumerator`1.get_Current"](),c=o["System.Collections.Generic.IEnumerator`1.get_Current"]();return Me(l[0],c[0])&&Me(l[1],c[1])?i():!1}else return!0;else return!1};return i()}finally{J(o)}}finally{J(s)}}else return!1}toString(){return"map ["+$n("; ",tt(n=>Ku("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){const t=this;return Array.from(t)}GetEnumerator(){return Es(this.tree)}[Symbol.iterator](){return Ot(W(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Es(this.tree)}CompareTo(t){const n=this;if(t instanceof Vn)return Al((s,o)=>{const i=n.comparer.Compare(s[0],o[0])|0;return(i!==0?i:Ne(s[1],o[1]))|0},n,t)|0;throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return Rs(n,t[0])&&Me(xs(n,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){jl(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return or(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return or(this)|0}get size(){return or(this)|0}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return tt(n=>[n[0],n[1]],this)}get(t){return xs(this,t)}has(t){return Rs(this,t)}keys(){return tt(n=>n[0],this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return tt(n=>n[1],this)}forEach(t,n){const r=this;Ee(s=>{t(s[1],s[0],r)},r)}}function Nn(e,t){return new Vn(e,t)}function sc(e){return Nn(e,void 0)}function oc(e,t,n){return Nn(e.comparer,At(e.comparer,t,n,e.tree))}function xs(e,t){return Zl(e.comparer,t,e.tree)}function ic(e,t){return Nn(e.comparer,Kl(t,e.tree))}function or(e){return Gl(e.tree)}function Rs(e,t){return Yl(e.comparer,t,e.tree)}function uc(e,t){return Po(e.comparer,t,e.tree)}function lc(e){const t=(s,o)=>(s<<1)+o+631;let n=0;const r=W(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,je(s[0]))|0,n=t(n,je(s[1]))|0}}finally{J(r)}return n|0}function Ho(e,t,n){return oc(n,e,t)}function cc(e,t){return uc(t,e)}function ac(e,t){return ic(t,e)}function fc(e,t){return Nn(t,Ql(t,e))}function Uo(e){return sc(e)}class dc{constructor(t,n){this.contents=t,this.count=n|0}GetEnumerator(){const t=this;return W(Ue(()=>{let n=t.count-1;return Fo(()=>n>=0,Ue(()=>Nr(Vo(D(n,t.contents)),Ue(()=>(n=n-1|0,vo())))))}))}[Symbol.iterator](){return Ot(W(this))}"System.Collections.IEnumerable.GetEnumerator"(){return W(this)}}function hc(e,t){return new dc(e,t)}function mc(e){return hc(Pt(new Array(e),0,e,null),0)}function Zr(){return mc(4)}function _c(e,t){const n=e.contents.length|0;if(t>n){const r=e.contents;e.contents=Pt(new Array(tn(t,n*2)),0,tn(t,n*2),null),bn(r,0,e.contents,0,e.count)}}function Wo(e){return e.count}function Yr(e){return e.count=e.count-1|0,D(e.count,e.contents)}function gc(e,t){return e.count>0?(t.contents=Yr(e),!0):!1}function Xr(e,t){_c(e,e.count+1),e.contents[e.count]=t,e.count=e.count+1|0}class pc{constructor(t,n){this.contents=t,this.count=n|0,this.head=0,this.tail=(n===this.contents.length?0:n)|0}GetEnumerator(){return W(xc(this))}[Symbol.iterator](){return Ot(W(this))}"System.Collections.IEnumerable.GetEnumerator"(){return W(this)}}function wc(e,t){return new pc(e,t)}function yc(e){if(e<0)throw new Error("capacity is less than 0");return wc(Pt(new Array(e),0,e,null),0)}function Sc(){return yc(4)}function Rt(e,t){e.count===wt(e)&&Ec(e,e.count+1),e.contents[e.tail]=t,e.tail=(e.tail+1)%wt(e)|0,e.count=e.count+1|0}function bc(e){if(e.count===0)throw new Error("Queue is empty");const t=D(e.head,e.contents);return e.head=(e.head+1)%wt(e)|0,e.count=e.count-1|0,t}function Cc(e,t){return e.count===0?!1:(t.contents=bc(e),!0)}function wt(e){return e.contents.length}function Mc(e,t){return(e.head+t)%wt(e)}function Ec(e,t){const n=Pt(new Array(t),0,t,null);e.head<e.tail?bn(e.contents,e.head,n,0,e.count):(bn(e.contents,e.head,n,0,wt(e)-e.head),bn(e.contents,0,n,wt(e)-e.head,e.tail)),e.head=0,e.contents=n,e.tail=(e.count===wt(e)?0:e.count)|0}function xc(e){return Ue(()=>{let t=0;return Fo(()=>t<e.count,Ue(()=>Nr(Vo(D(Mc(e,t),e.contents)),Ue(()=>(t=t+1|0,vo())))))})}const Rc=1e4;class kc{constructor(t,n){this.create=t,this.clean=n,this.items=Zr(),this.itemOut=0,this.total=0}}function Tc(e,t){return new kc(e,t)}function Dc(e,t){if(e.total>Rc)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,Wo(e.items)>0?Yr(e.items):(e.total=e.total+1|0,e.create(t))}function _n(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),Xr(e.items,t)}class Ic{constructor(t,n){this.create=t,this.clean=n,this.items=Zr(),this.itemOut=0,this.total=0}}function Gn(e,t){return new Ic(e,t)}function ke(e){if(e.total>1e3)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,Wo(e.items)>0?Yr(e.items):(e.total=e.total+1|0,e.create())}function Te(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),Xr(e.items,t)}function vc(e,t){const n=t.getShaderParameter(e,t.COMPILE_STATUS);console.log(me("Shader compiled successfully"),n);const r=t.getShaderInfoLog(e);console.log(me("Shader compiler log: "),r)}function Vc(e,t){const n=t.getProgramInfoLog(e);console.log(me("getProgramInfoLog: "),n)}function ks(e,t){t.compileShader(e),vc(e,t)}function Fc(e,t,n){const r=n.createShader(35633);n.shaderSource(r,e),ks(r,n);const s=n.createShader(35632);n.shaderSource(s,t),ks(s,n);const o=n.createProgram();return n.attachShader(o,r),n.attachShader(o,s),n.linkProgram(o),Vc(o,n),n.detachShader(o,r),n.detachShader(o,s),n.deleteShader(r),n.deleteShader(s),o}function Ac(e,t){const n=(i,u)=>{e:for(;;){const l=i,c=u;if(!H(l)){const f=T(l)[1];t.texSubImage3D(35866,0,0,0,c,f.Width,f.Height,1,6408,5121,f.Pixels),i=B(l),u=c+1;continue e}break}},r=t.createTexture();t.activeTexture(33984),t.bindTexture(35866,r);let s;if(s=(ko(e)|0)>>>0,H(e))throw new Error("");{const i=T(e)[1];t.texStorage3D(35866,1,32856,i.Width,i.Height,s);const u=i;return t.texSubImage3D(35866,0,0,0,0,u.Width,u.Height,1,6408,5121,u.Pixels),n(B(e),1),t.texParameteri(35866,10242,10497),t.texParameteri(35866,10243,10497),t.texParameteri(35866,10241,9728),t.texParameteri(35866,10240,9728),[r,[i.Width,i.Height],new Map(fl((l,c)=>[c[0],l>>>0],e))]}}const Gt=Tc(e=>e.createBuffer(),e=>{});function Zt(e,t){const n=Dc(Gt,t),r=Float32Array.from(e);return t.bindBuffer(34962,n),t.bufferData(34962,r,35044),t.bindBuffer(34962,We()),n}const Oc=new Float32Array([0,1,0,0,1,1,1,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1]);class No extends ${constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Z=r|0}}class Qe extends ${constructor(t,n){super(),this.X=t|0,this.Y=n|0}}function Lc(){return ln("Imp.CommonModels.Point",[],Qe,()=>[["X",xt],["Y",xt]])}class Ts extends ${constructor(t,n){super(),this.Width=t|0,this.Height=n|0}}class Go extends ${constructor(t,n,r,s){super(),this.X=t|0,this.Y=n|0,this.Width=r|0,this.Height=s|0}}function Pc(){return ln("Imp.CommonModels.Rect",[],Go,()=>[["X",xt],["Y",xt],["Width",xt],["Height",xt]])}function Ds(e,t,n){return t>=e.X&&n>=e.Y&&t<e.X+e.Width?n<e.Y+e.Height:!1}function $c(e){return e*180/3.141592653589793}function Is(e){return hr(e,8)}class sn extends ${constructor(t,n){super(),this.Angle=t,this.Distance=n}}class K extends ${constructor(t,n){super(),this.X=t,this.Y=n}}function Sr(){return new sn(0,0)}function Fn(e,t){const n=t.X-e.X,r=t.Y-e.Y,s=($c(Math.atan2(r,n))+450)%360,o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return new sn(hr(s,8),hr(o,8))}function Bc(e){const t=3.141592653589793*(e.Angle/180),n=e.Distance*Math.sin(t),r=0-e.Distance*Math.cos(t);return new K(Math.abs(n)<1e-13?0:n,Math.abs(r)<1e-13?0:r)}function Hc(e){return new sn(e.Angle>315&&e.Angle<=360||e.Angle>=0&&e.Angle<45?0:e.Angle>=45&&e.Angle<=135?90:e.Angle>135&&e.Angle<225?180:270,e.Distance)}function Uc(e,t){return new K(t.X+e.X,t.Y+e.Y)}function Wc(e,t){return new K(e.X*t,e.Y*t)}function br(){return new K(0,0)}function Nc(){return Gn(zc,e=>{qe(Z(e)),qe(ue(e))})}const Zo=new oo(Nc);function Gc(){return Zr()}const Yo=new oo(Gc);class Zc extends ${constructor(t,n,r){super(),this.Texture=t,this.Width=n,this.Height=r}}class Kr extends ${constructor(t,n,r,s,o,i,u){super(),this.Time=t,this.Resolution=n,this.Offset=r,this.VertexBuffer=s,this.TextureDetails=o,this.TextureLayer=i,this.ZRange=u}}class Yc{constructor(){this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.texture="",this.textureX=0,this.textureY=0,this.textureWidth=0,this.textureHeight=0,this.metaData=void 0}}function Xc(){return new Yc}class Kc extends ${constructor(t,n,r,s,o,i,u,l,c,f,d,m){super(),this.Key=t,this.Elements=n,this.X=r|0,this.Y=s|0,this.Z=o|0,this.MouseMove=i,this.MouseEnter=u,this.MouseLeave=l,this.MouseUp=c,this.Width=f|0,this.Height=d|0,this.Blur=m}}class Xo extends ${constructor(t,n,r){super(),this.Key=t,this.Create=n,this.ViewItems=r}}class jc extends ${constructor(t,n,r){super(),this.Key=t,this.Func=n,this.ViewItems=r}}class ot extends ${constructor(t,n,r,s){super(),this.Key=t,this.Prop=n,this.Compare=r,this.Build=s}}class v extends ge{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class qc{constructor(){this.current=[],this.last=[],this.key="",this.hasSprites=!1,this.hasRenderers=!1,this.parent=void 0,this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.mouseMove=void 0,this.mouseOver=!1,this.mouseEnter=void 0,this.mouseLeave=void 0,this.mouseUp=void 0,this.blur=void 0,this.isActive=!1}}function zc(){return new qc}class Ko{constructor(t,n){this.f=n,this.isStale=!0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){}"Imp.DisplayModels.RendererBase.OnDistory"(){}}class Jc extends ${constructor(t,n,r){super(),this.Key=t,this.Renderer=n,this.RenderView=r}}class Qc extends ${constructor(t,n,r){super(),this.Key=t,this.RenderView=n,this.Callback=r}}class kt extends ge{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MouseMove","MouseButton","SyntheticMouseButton","Key","ControllerThumbstick","ControllerButton"]}}class ir extends ge{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ControllerThumbstick","ControllerButton","Key"]}}class ea extends ${constructor(t,n,r,s,o,i,u,l,c,f,d,m){super(),this.Key=t,this.Hooks=n,this.CurrentHook=r|0,this.Stale=s,this.RenderView=o,this.CurrentProp=i,this.Build=u,this.Removed=l,this.InputHandler=c,this.HasMouseEvents=f,this.HasInputEvents=d,this.Id=m}}class ht extends ge{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class ta extends ${constructor(t){super(),this.Component=t}}class na{constructor(t,n,r){this.currentComponent=t,this.hookIndex=n|0,this.currentComponent.Hooks[this.hookIndex]=r}}function jo(e,t,n){return new na(e,t,n)}class qo extends ${constructor(t,n,r){super(),this.Time=t,this.Call=n,this.Component=r}}class ur extends ge{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Move","Up","SyntheticUp"]}}const ra=Zo.Value;function Yt(e){const t=ke(Zo.Value);return Ta(t,e),t}function zo(){return Gn(Xc,e=>{})}function sa(e){return e.x}function oa(e,t){e.x=t|0}function ia(e){return e.y}function ua(e,t){e.y=t|0}function la(e){return e.z}function ca(e,t){e.z=t|0}function aa(e){return e.width}function fa(e,t){e.width=t|0}function da(e){return e.height}function ha(e,t){e.height=t|0}function ma(e){return e.texture}function _a(e,t){e.texture=t}function ga(e){return e.textureX}function pa(e,t){e.textureX=t|0}function wa(e){return e.textureY}function ya(e,t){e.textureY=t|0}function Sa(e){return e.textureWidth}function ba(e,t){e.textureWidth=t|0}function Ca(e){return e.textureHeight}function Ma(e,t){e.textureHeight=t|0}function Ea(e){return e.metaData}function xa(e,t){e.metaData=t}function Ra(e){Te(zo(),e)}function ka(e){return e.key}function Ta(e,t){e.key=t}function Cr(e){return e.hasSprites}function _t(e,t){e.hasSprites=t}function Mr(e){return e.hasRenderers}function Tt(e,t){e.hasRenderers=t}function Jo(e){return e.parent}function gn(e,t){e.parent=t}function it(e){return e.x}function Da(e,t){e.x=t|0}function ut(e){return e.y}function Ia(e,t){e.y=t|0}function jt(e){return e.z}function va(e,t){e.z=t|0}function Va(e){return e.width}function Fa(e,t){e.width=t|0}function Aa(e){return e.height}function Oa(e,t){e.height=t|0}function Er(e){return e.mouseMove}function La(e,t){e.mouseMove=t}function vs(e){return e.mouseOver}function Vs(e,t){e.mouseOver=t}function xr(e){return e.mouseEnter}function Pa(e,t){e.mouseEnter=t}function Rr(e){return e.mouseLeave}function $a(e,t){e.mouseLeave=t}function kr(e){return e.mouseUp}function Ba(e,t){e.mouseUp=t}function Qo(e){return e.blur}function Ha(e,t){e.blur=t}function Z(e){return e.current}function ue(e){return e.last}function ei(e){const t=e.last;e.last=e.current,e.current=t}function vt(e,t){const n=t?ue(e):Z(e);for(let r=0;r<=n.length-1;r++){const s=n[r];if(s!=null){const o=s;switch(o.tag){case 0:{vt(o.fields[0],!1);break}case 1:{Ra(o.fields[0]);break}case 3:{vt(o.fields[0].RenderView,!1);break}case 4:{const i=o.fields[0];i.Removed=!0,vt(i.RenderView,!1);break}default:Na(o.fields[0].Renderer)}}}t||Te(ra,e)}function Ua(e){e.isStale=!0}function Wa(e,t){e.isStale&&e["Imp.DisplayModels.RendererBase.OnInit1E729EFC"](t),e["Imp.DisplayModels.RendererBase.OnRender1E729EFC"](t),e.isStale=!1}function Na(e,t){vt(e.f,!1),e["Imp.DisplayModels.RendererBase.OnDistory"]()}const Ga=Yo.Value;function ti(e){Xr(Yo.Value,e)}function rt(e){return e.currentComponent.Hooks[e.hookIndex]}function se(e,t){const n=t(e.currentComponent.Hooks[e.hookIndex]);e.currentComponent.Hooks[e.hookIndex]=n,e.currentComponent.Stale=!0,ti(e.currentComponent)}const De=Gn(()=>[],e=>{qe(e)});class Zn{constructor(){}}function Yn(e){return ke(De)}class Za extends Zn{constructor(t,n,r,s,o,i,u,l,c,f,d){super(),this.key=t,this.x=n|0,this.y=r|0,this.z=s|0,this.width=o|0,this.height=i|0,this.mouseMove=u,this.mouseEnter=l,this.mouseLeave=c,this.mouseUp=f,this.blur=d}}function oe(e,t,n,r,s,o,i,u,l,c,f){return new Za(e,t,n,r,s,o,i,u,l,c,f)}function ie(e,t){const n=Yn();return t(n),new Kc(e.key,n,e.x,e.y,e.z,e.mouseMove,e.mouseEnter,e.mouseLeave,e.mouseUp,e.width,e.height,e.blur)}class Ya extends Zn{constructor(t,n){super(),this.name=t,this.func=n}}function Xa(e,t){return new Ya(e,t)}function Ka(e,t){const n=Yn();return t(n),new jc(e.name,e.func,n)}function de(e,t,n,r,s,o,i,u,l,c){const f=ke(zo());return oa(f,e),ua(f,t),ca(f,n),fa(f,r),ha(f,s),_a(f,o),pa(f,i),ya(f,u),ba(f,c),Ma(f,l),xa(f,void 0),f}function lt(e,t){return Me(e,t)}let lr=0;function jr(e,t){Da(e,t.X),Ia(e,t.Y),va(e,t.Z),Fa(e,t.Width),Oa(e,t.Height),La(e,t.MouseMove),Pa(e,t.MouseEnter),$a(e,t.MouseLeave),Ba(e,t.MouseUp),Ha(e,t.Blur)}function ni(e,t){Ee(n=>{let r,s,o,i,u;n.HasMouseEvents=n.HasMouseEvents||(r=xr(t),r!=null)||(s=Rr(t),s!=null)||(o=Er(t),o!=null)||(i=kr(t),i!=null)?!0:(u=Qo(t),u!=null),n.HasInputEvents=n.HasInputEvents?!0:n.InputHandler!=null},pt(e))}function ri(e,t,n,r,s){let o,i,u,l,c;switch(s.tag){case 0:{const f=s.fields[0];let d,m,p,g=0;for(;p==null&&g<ue(r).length;){const h=(_=>{let w,M;if(_!=null){const S=_;S.tag===0&&ka(S.fields[0])===f.Key?(w=0,M=S.fields[0]):w=1}else w=1;switch(w){case 0:return M;default:return}})(ue(r)[g]);if(h!=null){const _=h;ue(r)[g]=void 0,p=_}g=g+1|0}m=p,d=m??Yt(f.Key),gn(d,r),jr(d,f),Xt(e,t,n,d,f.Elements),_t(r,Cr(r)?!0:Cr(d)),Tt(r,Mr(r)?!0:Mr(d)),Z(r).push(new ht(0,[d])),ni(t,d);break}case 4:{const f=s.fields[0];let d,m,p,g=0;for(;p==null&&g<ue(r).length;){const h=(_=>{let w,M;if(_!=null){const S=_;S.tag===4&&S.fields[0].Key===f.Key?(w=0,M=S.fields[0]):w=1}else w=1;switch(w){case 0:return M;default:return}})(ue(r)[g]);if(h!=null){const _=h;ue(r)[g]=void 0,p=_}g=g+1|0}if(m=p,m!=null){const h=m;let _;try{_=f.Compare(h.CurrentProp,f.Prop)}catch(w){throw w}h.Stale=h.Stale?!0:!_,h.CurrentProp=f.Prop,d=h}else{const h=Yt(f.Key);lr=lr+1|0,d=new ea(f.Key,[],0,!0,h,f.Prop,f.Build,!1,void 0,!1,!1,Pn(po(lr)))}ti(d),gn(d.RenderView,r),Tt(r,!0),_t(r,!0),Ee(h=>{h.HasMouseEvents=h.HasMouseEvents?!0:d.HasMouseEvents,h.HasInputEvents=h.HasInputEvents?!0:d.HasInputEvents},pt(t)),Z(r).push(new ht(4,[d]));break}case 2:{const f=s.fields[0],d=()=>{const m=Yt(f.Key);gn(m,r),Xt(e,t,n,m,f.ViewItems);const p=new Jc(f.Key,f.Create(n,m),m);Z(r).push(new ht(2,[p]))};if(e)d();else{let m,p,g=0;for(;p==null&&g<ue(r).length;){const h=(_=>{let w,M;if(_!=null){const S=_;S.tag===2&&S.fields[0].Key===f.Key?(w=0,M=S.fields[0]):w=1}else w=1;switch(w){case 0:return M;default:return}})(ue(r)[g]);if(h!=null){const _=h;ue(r)[g]=void 0,p=_}g=g+1|0}if(m=p,m!=null){const h=m;gn(h.RenderView,r),Xt(e,t,n,h.RenderView,f.ViewItems),Z(r).push(new ht(2,[h]))}else d()}Tt(r,!0),_t(r,!0);break}case 3:{const f=s.fields[0];Xt(e,t,n,(o=(i=void 0,u=0,(()=>{for(;i==null&&u<ue(r).length;){const d=(m=>{let p,g;if(m!=null){const h=m;h.tag===3&&h.fields[0].Key===f.Key?(p=0,g=h.fields[0]):p=1}else p=1;switch(p){case 0:return g;default:return}})(ue(r)[u]);if(d!=null){const m=d;ue(r)[u]=void 0,i=m}u=u+1|0}})(),i),o!=null?(l=o,Z(r).push(new ht(3,[l])),l):(c=new Qc(f.Key,Yt(f.Key),f.Func),Z(r).push(new ht(3,[c])),c)).RenderView,f.ViewItems),Tt(r,!0),_t(r,!0);break}default:Z(r).push(new ht(1,[s.fields[0]])),_t(r,!0)}}function Xt(e,t,n,r,s){ei(r),qe(Z(r)),_t(r,!1),Tt(r,!1);for(let o=0;o<=s.length-1;o++)ri(e,t,n,r,s[o]);Te(De,s),vt(r,!0),qe(ue(r)),ni(t,r)}let cr;function ja(e,t){const n=(r,s,o,i)=>{for(let u=0;u<=r.length-1;u++){const l=r[u];if(l!=null){const c=l;switch(c.tag){case 0:{const f=c.fields[0];Cr(f)&&n(Z(f),s+it(f),o+ut(f),i+jt(f));break}case 3:{n(Z(c.fields[0].RenderView),s,o,i);break}case 4:{const f=c.fields[0];n(Z(f.RenderView),it(f.RenderView)+s,ut(f.RenderView)+o,jt(f.RenderView)+i);break}case 2:break;default:t([s,o,i],c.fields[0])}}}};n(Z(e),it(e),ut(e),jt(e))}function qt(e,t){let n;if(it(e)!==0||ut(e)!==0||jt(e)!==0){const r=t;n=new Kr(r.Time,r.Resolution,new No(t.Offset.X+it(e),t.Offset.Y+ut(e),t.Offset.Z+jt(e)),r.VertexBuffer,r.TextureDetails,r.TextureLayer,r.ZRange)}else n=t;for(let r=0;r<=Z(e).length-1;r++){const s=Z(e)[r];if(s!=null){const o=s;switch(o.tag){case 0:{const i=o.fields[0];Mr(i)&&qt(i,n);break}case 3:{const i=o.fields[0];qt(i.RenderView,i.Callback(n));break}case 4:{qt(o.fields[0].RenderView,n);break}case 1:break;default:Wa(o.fields[0].Renderer,n)}}}}function qa(e,t,n){ei(e),qe(Z(e)),_t(e,!1),Tt(e,!1),jr(e,n),ri(!1,void 0,t,e,new v(0,[n])),vt(e,!0),qe(ue(e))}function za(e,t){e:for(;;){const n=t;if(n!=null){const r=n;for(let s=0;s<=Z(r).length-1;s++){const o=Z(r)[s];if(o!=null){const i=o;i.tag===2&&Ua(i.fields[0].Renderer)}}t=Jo(r);continue e}break}}let zt=[],pn=[];const gt=Sc();class Ja extends ge{constructor(){super(),this.tag=0,this.fields=[]}cases(){return["Up"]}}function Xn(e){let t;const n=e.Component.CurrentHook|0;return e.Component.CurrentHook=n+1|0,[n,(t=Ol(n,e.Component.Hooks),t!=null?me(E(t)):void 0)]}function qr(e,t){const n=Xn(e),r=n[1];return jo(e.Component,n[0],r!=null?E(r):(e.Component.Hooks.push(t),t))}function zr(e,t){let n;const r=Xn(e),s=r[1];return jo(e.Component,r[0],s!=null?E(s):(n=t(),e.Component.Hooks.push(n),n))}function Qa(e,t){Xn(e)[1]!=null||(t(),Rt(gt,new kt(2,[!0,e.Component.Id])),e.Component.Hooks.push(!0)),e.Component.HasMouseEvents=!0}function si(e,t,n){const r=Xn(e),s=r[1];s!=null?Me(E(s),t)||(n(t),e.Component.Hooks[r[0]]=t):(n(t),e.Component.Hooks.push(t))}function oi(e,t){e.Component.InputHandler=t,e.Component.HasInputEvents=!0}function ef(e,t,n){zt.push(new qo(bo(Qt(),t),n,e.Component))}function tf(e,t){zt.push(new qo(bo(Qt(),e),t,void 0))}function nf(){let e;const t=zt;zt=pn,pn=t;const n=Qt();let r=W(pn);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"](),o=()=>{$u(n,s.Time)>=0?s.Call():zt.push(s)},i=s.Component;if(i!=null){if(e=i,!e.Removed){const u=i;o()}}else o()}}finally{J(r)}qe(pn)}function rf(e,t){nf();const n=(i,u,l)=>{let c=!1;const f=(d,m,p,g)=>{for(let h=0;h<=m.length-1;h++){const _=m[h],w=(M,S)=>{let x,k,F,P,L;f(M,Z(S),p+it(S),g+ut(S));const N=()=>new Go(p+it(S),g+ut(S),Va(S),Aa(S));switch(l.tag){case 1:{!c&&(x=kr(S),x!=null)&&Ds(N(),i,u)&&(cr!=null&&E(cr)(new Qe(i,u)),(k=kr(S),E(k))(new Qe(i,u)),c=!0,cr=Qo(S));break}case 2:{if(yu(l.fields[0],M)){const V=N();Rt(gt,new kt(1,[!0,V.X,V.Y])),c=!0}break}default:!c&&(F=Er(S),(F!=null?!0:(P=xr(S),P!=null))?!0:(L=Rr(S),L!=null))&&(Ds(N(),i,u)?(vs(S)||Ee(V=>{V(new Qe(i,u)),Vs(S,!0)},pt(xr(S))),Ee(V=>{V(new Qe(i,u))},pt(Er(S)))):vs(S)&&(Ee(V=>{V(new Qe(i,u))},pt(Rr(S))),Vs(S,!1)))}};if(_!=null){const M=_;switch(M.tag){case 0:{w(d,M.fields[0]);break}case 4:{const S=M.fields[0];S.HasMouseEvents&&w(S.Id,S.RenderView);break}case 3:{f(d,Z(M.fields[0].RenderView),p,g);break}case 2:{const S=M.fields[0];f(d,Z(S.RenderView),p+it(S.RenderView),g+ut(S.RenderView));break}}}}};f(Pn(po(-1)),Z(e),0,0)},r=i=>{let u=!1;const l=c=>{if(!u)for(let f=0;f<=c.length-1;f++){const d=c[f];if(d!=null){const m=d;switch(m.tag){case 4:{const p=m.fields[0];if(p.HasInputEvents&&(l(Z(p.RenderView)),!u)){const g=p.InputHandler;g!=null&&(g(i),u=!0)}break}case 0:{l(Z(m.fields[0]));break}case 3:{l(Z(m.fields[0].RenderView));break}case 2:{l(Z(m.fields[0].RenderView));break}}}}};l(Z(e))},s=()=>{let i,u=We();if(i=[Cc(gt,new re(()=>u,l=>{u=l})),u],i[0]){const l=i[1];switch(l.tag){case 1:{l.fields[0]&&n(l.fields[1],l.fields[2],new ur(1,[]));break}case 2:{l.fields[0]&&n(0,0,new ur(2,[l.fields[1]]));break}case 3:{r(new ir(2,[l.fields[0],l.fields[1]]));break}case 4:{r(new ir(0,[l.fields[0],l.fields[1]]));break}case 5:{r(new ir(1,[l.fields[0],l.fields[1]]));break}default:n(l.fields[0],l.fields[1],new ur(0,[]))}s()}};s();const o=()=>{let i,u=We();if(i=[gc(Ga,new re(()=>u,l=>{u=l})),u],i[0]){const l=i[1];if(l.Stale){l.Stale=!1,l.CurrentHook=0,l.InputHandler=void 0,l.HasMouseEvents=!1,l.HasInputEvents=!1;const c=l.Build(new ta(l),l.CurrentProp);jr(l.RenderView,c),Xt(!0,l,t,l.RenderView,c.Elements),za(t,Jo(l.RenderView))}o()}};o()}function Fs(e=0,t=0,n=0,r=0,s=0){switch(arguments.length){case 1:return sf(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],s=0;break}return e*864e5+t*36e5+n*6e4+r*1e3+s}function sf(e){return Number(BigInt(e)/10000n)}function of(e){return e/1e3}function uf(e){const t=e.search("\\."),n=e.search("\\:");if(t===-1&&n===-1){const r=parseInt(e,0);if(isNaN(r))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return Fs(r,0,0,0,0)}if(n>0){const r=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(r!=null&&r[4]!=null&&r[5]!=null){let s=0,o=0,i=0;const u=r[1]!=null&&r[1]==="-"?-1:1,l=+r[4],c=+r[5];if(r[3]!=null&&(s=+r[3]),r[7]!=null&&(i=+r[7]),r[8]!=null)switch(r[8].length){case 1:o=+r[8]*100;break;case 2:o=+r[8]*10;break;case 3:o=+r[8];break;case 4:o=+r[8]/10;break;case 5:o=+r[8]/100;break;case 6:o=+r[8]/1e3;break;case 7:o=+r[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return u*Fs(s,l,c,i,o)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function lf(e,t){try{return t.contents=uf(e),!0}catch{return!1}}class cf{constructor(){this.textureNames=new Set([])}}function ii(e){return e.textureNames}class af{constructor(){}}class ff extends cf{constructor(t){super(),this.baseUrl=t}"Imp.Setup.DataManager.LoadTexture"(t,n){const r=this,s=document.createElement("img");s.onload=o=>{n(new mu(s,s.width>>>0,s.height>>>0))},s.src=`${r.baseUrl}/${t}`}"Imp.Setup.DataManager.LoadString"(t,n){const r=this;pu(yl(ys,wl(ys,()=>Nl(`${r.baseUrl}/${t}`,Ve()).then(s=>s.text().then(o=>(n(o),Promise.resolve()))))))}}function df(e){return new ff(e)}function hf(e,t,n,r,s){const o=[],i=Ss(ii(t)),u=()=>{if(o.length<ko(i)){const l=hl(o.length,i);t["Imp.Setup.DataManager.LoadTexture"](`${l}.png`,c=>{o.push([l,c]),u()})}else{const l=Ac(Ss(o),e),c=l[1],f=new Zc(l[0],c[0],c[1]);let d,m;d=_=>{let w;switch(m!=null?(m[1],m[0]===_?w=0:w=1):w=1,w){case 0:{const M=m[1];return m[0],M}default:{let M,S=0;if(M=[Gr(l[2],_,new re(()=>S,x=>{S=x})),S],M[0]){const x=M[1];return m=[_,x],x}else return}}};const p=Zt(Oc,e),g=Qt(),h=Yt("Root");qa(h,e,n),s(_=>{Ee(w=>{w()},pt(r)),qt(h,new Kr(of(Bu(Qt(),g)),_,new No(0,0,0),p,f,d,[0,1]))},_=>{rf(h,e)})}};u()}class mf extends af{constructor(t,n,r){super();let s,o,i,u;this.resolution=new Ts(0,0),this.tick=()=>{},this.canvas=(s=document.createElement("canvas"),o=document.getElementById(t),o.appendChild(s),i=n,u=r,this.resolution=new Ts(~~i,~~u),s.width=i,s.height=u,s)}"Imp.Setup.Display.AttachView"(t,n,r){const s=this;hf(s.canvas.getContext("webgl2",me({premultipliedAlpha:!1})),t,n,r,(o,i)=>{s.tick=()=>{i(),o(s.resolution)}})}"Imp.Setup.Display.AttachInputZ2D84AEB6"(t){const n=this;t({AttachKeyboard(){window.addEventListener("keydown",r=>{const s=As(n,r.code);s!=null&&Rt(gt,new kt(3,[!0,s]))}),window.addEventListener("keyup",r=>{const s=As(n,r.code);s!=null&&Rt(gt,new kt(3,[!1,s]))})},AttachMouse(){window.addEventListener("mousemove",r=>{Rt(gt,new kt(0,[r.clientX,r.clientY]))}),window.addEventListener("mouseup",r=>{Rt(gt,new kt(1,[!0,r.clientX,r.clientY]))})},AttachGamepad(){}})}"Imp.Setup.Display.Run"(){const t=this,n=()=>{window.requestAnimationFrame(r=>{t.tick(),n()})};n()}}function _f(e,t,n){return new mf(e,t,n)}function As(e,t){switch(t){case"KeyA":return 65;case"KeyB":return 66;case"KeyC":return 67;case"KeyD":return 68;case"KeyE":return 69;case"KeyF":return 70;case"KeyG":return 71;case"KeyH":return 72;case"KeyI":return 73;case"KeyJ":return 74;case"KeyK":return 75;case"KeyL":return 76;case"KeyM":return 77;case"KeyN":return 78;case"KeyO":return 79;case"KeyP":return 80;case"KeyQ":return 81;case"KeyR":return 82;case"KeyS":return 83;case"KeyT":return 84;case"KeyU":return 85;case"KeyV":return 86;case"KeyW":return 87;case"KeyX":return 88;case"KeyY":return 89;case"KeyZ":return 90;case"Digit0":return 48;case"Digit1":return 49;case"Digit2":return 50;case"Digit3":return 51;case"Digit4":return 52;case"Digit5":return 53;case"Digit6":return 54;case"Digit7":return 55;case"Digit8":return 56;case"Digit9":return 57;case"Space":return 32;case"ShiftLeft":return 340;case"ShiftRight":return 344;case"Backspace":return 259;case"Delete":return 261;case"Semicolon":return 59;case"ArrowLeft":return 263;case"ArrowRight":return 262;case"ArrowDown":return 264;case"ArrowUp":return 265;case"Backquote":return 96;case"Minus":return 45;case"Equal":return 61;case"BracketLeft":return 91;case"BracketRight":return 93;case"Backslash":return 92;case"Quote":return 39;case"Comma":return 44;case"Period":return 46;case"Slash":return 47;case"CapsLock":return 280;case"Tab":return 258;case"Enter":return 257;case"Escape":return 256;case"ControlLeft":return 341;case"ControlRight":return 345;case"AltLeft":return 342;case"AltRight":return 346;default:{Zu(`Key: ${t}`);return}}}class gf extends ${constructor(t,n,r){super(),this.R=t|0,this.G=n|0,this.B=r|0}}class pf extends Ko{constructor(t,n,r){super(n,r),this.backgroundColor=t,this.gl=n,this.view=r}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this;n.gl.disable(3024),n.gl.enable(2884),n.gl.cullFace(1029),n.gl.frontFace(2304);const r=t.Resolution.Width>>>0,s=t.Resolution.Height>>>0;n.gl.viewport(0,0,r,s);const o=n.backgroundColor.R/255,i=n.backgroundColor.G/255,u=n.backgroundColor.B/255;n.gl.clearColor(o,i,u,1),n.gl.clearDepth(1);const l=16640;n.gl.clear(l),qt(n.view,t)}}function wf(e,t,n){return new pf(e,t,n)}class yf extends Zn{constructor(t,n){super(),this.backgroundColor=t,this.key=n}}function Sf(e,t){return new yf(e,t)}function bf(e,t){const n=Yn();return t(n),new Xo(e.key,(r,s)=>wf(e.backgroundColor,r,s),n)}function Cf(e,t){return Sf(e,y(t,""))}class Mf{constructor(t){let n,r,s,o,i,u,l,c,f,d,m,p,g,h,_,w,M,S,x,k,F,P,L,N,V,I;this.gl=t;const A=`#version 300 es\r
precision highp float;\r
\r
in vec4 vertex;\r
uniform vec3 offset;\r
in vec4 position;\r
in vec4 texturePosition;\r
in float textureLayer;\r
in float depth;\r
\r
uniform vec2 outputResolution;\r
uniform vec2 textureResolution;\r
\r
out vec3 frag_texCoords;\r
out float frag_depth;\r
\r
void main(void)\r
{\r
    // y might need to be flipped\r
    frag_texCoords =\r
        vec3(\r
            mix(vec2(0.0, 0.0), vec2(1.0, 1.0), (texturePosition.xy + (texturePosition.zw * vertex.zw)) / textureResolution),\r
            textureLayer);\r
\r
    float x = mix(-1.0, 1.0, (offset.x + position.x + (position.z * vertex.x)) / outputResolution.x);\r
    float y = mix(1.0, -1.0, (offset.y + position.y + (position.w * (1.0 - vertex.y))) / outputResolution.y);\r
\r
    gl_Position = vec4(x, y, 0.0, 1.0);\r
    frag_depth = offset.z + depth;\r
}`,q=`#version 300 es\r
precision highp float;\r
\r
in vec3 frag_texCoords;\r
in float frag_depth;\r
uniform mediump sampler2DArray diffuseTexture;\r
\r
out vec4 outputColor;\r
\r
void main() {\r
    outputColor = texture(diffuseTexture, frag_texCoords);\r
    gl_FragDepth = outputColor.a > 0.0 ? frag_depth : 1.0;\r
}`;this.vertexArray=(n=this.gl,n.createVertexArray()),this.initialized=!1,this.program=(r=Fc(A,q,this.gl),s=this.gl,s.useProgram(r),r),this.vertexLocation=(o=(i=this.gl,u=this.program,i.getAttribLocation(u,"vertex")),o>>>0),this.offsetLocation=(l=this.gl,c=this.program,l.getUniformLocation(c,"offset")),this.positionLocation=(f=(d=this.gl,m=this.program,d.getAttribLocation(m,"position")),f>>>0),this.texturePositionLocation=(p=(g=this.gl,h=this.program,g.getAttribLocation(h,"texturePosition")),p>>>0),this.textureLayerLocation=(_=(w=this.gl,M=this.program,w.getAttribLocation(M,"textureLayer")),_>>>0),this.depthLocation=(S=(x=this.gl,k=this.program,x.getAttribLocation(k,"depth")),S>>>0),this.outputResolutionLocation=(F=this.gl,P=this.program,F.getUniformLocation(P,"outputResolution")),this.textureResolutionLocation=(L=this.gl,N=this.program,L.getUniformLocation(N,"textureResolution")),this.diffuseTextureLocation=(V=this.gl,I=this.program,V.getUniformLocation(I,"diffuseTexture"))}}function Ef(e){return new Mf(e)}function xf(e){return e.program}function Os(e){e.gl.useProgram(e.program),e.gl.bindVertexArray(e.vertexArray),e.initialized||(e.initialized=!0,e.gl.enableVertexAttribArray(e.vertexLocation),e.gl.enableVertexAttribArray(e.positionLocation),e.gl.enableVertexAttribArray(e.texturePositionLocation),e.gl.enableVertexAttribArray(e.textureLayerLocation),e.gl.enableVertexAttribArray(e.depthLocation))}function Rf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.vertexLocation,4,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.vertexLocation,i)}function kf(e,t,n,r){e.gl.uniform3f(e.offsetLocation,t,n,r)}function Tf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.positionLocation,4,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.positionLocation,i)}function Df(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.texturePositionLocation,4,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.texturePositionLocation,i)}function If(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.textureLayerLocation,1,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.textureLayerLocation,i)}function vf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.depthLocation,1,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.depthLocation,i)}function Vf(e,t,n){e.gl.uniform2f(e.outputResolutionLocation,t,n)}function Ff(e,t,n){e.gl.uniform2f(e.textureResolutionLocation,t,n)}function Af(e,t){const n=e.gl;n.uniform1i(e.diffuseTextureLocation,0),n.activeTexture(33984),n.bindTexture(35866,t)}let wn=co(void 0);function Of(e,t){let n;if(wn()==null){const r=Ef(e);Os(r),t(r),wn(r)}else{const r=wn();Me((n=e,n.getParameter(n.CURRENT_PROGRAM)),xf(r))||(Os(r),t(r))}return E(wn())}const Je=Gn(()=>[],e=>{qe(e)});class Lf extends Ko{constructor(t,n){super(t,n),this.gl=t,this.view=n,this.renderResult=void 0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){let n,r,s;const o=this;Ls(o);const i=t.ZRange,u=ke(Je),l=ke(Je),c=ke(Je),f=ke(Je);ja(o.view,(d,m)=>{let p;if(p=Ea(m),p==null){const g=m,h=u;h.push(sa(g)+d[0]),h.push(ia(g)+d[1]),h.push(aa(g)),h.push(da(g));const _=m,w=c;w.push(ga(_)),w.push(wa(_)),w.push(Sa(_)),w.push(Ca(_));const M=t.TextureLayer(ma(m));if(M!=null){const x=M;f.push(x)}const S=(la(m)+d[2]-i[0])/i[1];l.push(1-S)}}),o.renderResult=(n=Zt(u,o.gl),r=Zt(c,o.gl),s=Zt(f,o.gl),{DepthBuffer:Zt(l,o.gl),PosBuffer:n,TextureBuffer:r,TextureLayer:s,TotalSprites:~~(u.length/4)}),Te(Je,u),Te(Je,c),Te(Je,f),Te(Je,l)}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){let n;const r=this,s=E(r.renderResult),o=t.Resolution.Width>>>0,i=t.Resolution.Height>>>0;r.gl.viewport(0,0,o,i),r.gl.enable(2929),r.gl.blendFunc(770,771),r.gl.blendEquationSeparate(32774,32774),r.gl.enable(3042),r.gl.depthFunc(515);const u=Of(r.gl,c=>{Rf(c,t.VertexBuffer)});kf(u,t.Offset.X,t.Offset.Y,1-(n=t.ZRange,(t.Offset.Z-n[0])/n[1])),Vf(u,t.Resolution.Width,t.Resolution.Height),Ff(u,t.TextureDetails.Width,t.TextureDetails.Height),Af(u,t.TextureDetails.Texture),If(u,s.TextureLayer,1),Tf(u,s.PosBuffer,1),Df(u,s.TextureBuffer,1),vf(u,s.DepthBuffer,1);const l=s.TotalSprites>>>0;r.gl.drawArraysInstanced(4,0,6,l)}"Imp.DisplayModels.RendererBase.OnDistory"(){Ls(this)}}function Pf(e,t){return new Lf(e,t)}function Ls(e){Ee(t=>{_n(Gt,t.PosBuffer),_n(Gt,t.TextureBuffer),_n(Gt,t.TextureLayer),_n(Gt,t.DepthBuffer)},pt(e.renderResult)),e.renderResult=void 0}class $f extends Zn{constructor(t){super(),this.name=t}}function Bf(e){return new $f(e)}function Kn(e,t){const n=Yn();return t(n),new Xo(e.name,Pf,n)}function jn(e){return Bf(y(e,""))}class Hf{constructor(){this.defaultFont="Font Small",this.sprites=new Map([])}}function Uf(){return new Hf}function ui(e){return e.sprites}function Bt(e,t){return Ul(e.sprites,t)}function li(e){return e.defaultFont}function Wf(e,t,n,r){let s,o;const i=D(n-1,Bt(e,t).Frames),u=ke(De),l=i.Layers.length-1|0;for(let c=0;c<=l;c++){const f=D(c,i.Layers);u.push(new v(1,[(s=f,o=s,de(r[0]+o.Offset.X,r[1]+o.Offset.Y,0,s.Rect.Width,s.Rect.Height,o.Texture,o.Rect.X,o.Rect.Y,o.Rect.Height,o.Rect.Width))]))}return u}function Nf(e,t){return D(0,D(0,Bt(e,t).Frames).Layers)}function ci(e,t,n,r,s,o){let i,u,l,c,f;const d=m=>D(0,D(0,Bt(e,o+"-"+m).Frames).Layers);return ie((i=void 0,u=void 0,l=void 0,c=void 0,f=void 0,oe(y(void 0,""),y(n,0),y(t,0),y(void 0,0),y(void 0,0),y(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,f??void 0)),m=>{let p,g,h,_,w,M,S,x,k,F,P,L,N,V,I,A,q,Fe,pe;const xe=m,G=d("TopLeft"),Q=d("Top"),we=d("TopRight"),ft=d("Left"),Mi=d("Middle"),qn=d("Right"),zn=d("BottomLeft"),fn=d("Bottom"),Qr=d("BottomRight"),Ei=r-G.Rect.Width-we.Rect.Width|0;(p=(g=G,h=g,de(0+h.Offset.X,0+h.Offset.Y,0,g.Rect.Width,g.Rect.Height,h.Texture,h.Rect.X,h.Rect.Y,h.Rect.Height,h.Rect.Width)),ae=>{ae.push(new v(1,[p]))})(xe);const es=xe;(_=(w=Q,de(G.Rect.Width+w.Offset.X,0+w.Offset.Y,0,Ei,Q.Rect.Height,w.Texture,w.Rect.X,w.Rect.Y,w.Rect.Height,w.Rect.Width)),ae=>{ae.push(new v(1,[_]))})(es);const ts=es;(M=(S=we,x=S,de(r-we.Rect.Width+x.Offset.X,0+x.Offset.Y,0,S.Rect.Width,S.Rect.Height,x.Texture,x.Rect.X,x.Rect.Y,x.Rect.Height,x.Rect.Width)),ae=>{ae.push(new v(1,[M]))})(ts);const ns=ts,xi=r-ft.Rect.Width-qn.Rect.Width|0,Jn=s-Q.Rect.Height-fn.Rect.Height|0,Qn=G.Rect.Height|0;(k=(F=ft,de(0+F.Offset.X,Qn+F.Offset.Y,0,ft.Rect.Width,Jn,F.Texture,F.Rect.X,F.Rect.Y,F.Rect.Height,F.Rect.Width)),ae=>{ae.push(new v(1,[k]))})(ns);const rs=ns;(P=(L=Mi,de(G.Rect.Width+L.Offset.X,Qn+L.Offset.Y,0,xi,Jn,L.Texture,L.Rect.X,L.Rect.Y,L.Rect.Height,L.Rect.Width)),ae=>{ae.push(new v(1,[P]))})(rs);const ss=rs;(N=(V=qn,de(r-we.Rect.Width+V.Offset.X,Qn+V.Offset.Y,0,qn.Rect.Width,Jn,V.Texture,V.Rect.X,V.Rect.Y,V.Rect.Height,V.Rect.Width)),ae=>{ae.push(new v(1,[N]))})(ss);const os=ss,Ri=r-zn.Rect.Width-Qr.Rect.Width|0,er=s-fn.Rect.Height|0;(I=(A=zn,q=A,de(0+q.Offset.X,er+q.Offset.Y,0,A.Rect.Width,A.Rect.Height,q.Texture,q.Rect.X,q.Rect.Y,q.Rect.Height,q.Rect.Width)),ae=>{ae.push(new v(1,[I]))})(os);const is=os;(Fe=(pe=fn,de(zn.Rect.Width+pe.Offset.X,er+pe.Offset.Y,0,Ri,fn.Rect.Height,pe.Texture,pe.Rect.X,pe.Rect.Y,pe.Rect.Height,pe.Rect.Width)),ae=>{ae.push(new v(1,[Fe]))})(is);let us;const tr=Qr,dt=tr;us=de(r-we.Rect.Width+dt.Offset.X,er+dt.Offset.Y,0,tr.Rect.Width,tr.Rect.Height,dt.Texture,dt.Rect.X,dt.Rect.Y,dt.Rect.Height,dt.Rect.Width),is.push(new v(1,[us]))})}function Gf(e,t,n,r,s){return o=>{let i,u,l,c,f;return ie((i=void 0,u=void 0,l=void 0,c=void 0,f=void 0,oe(y(void 0,""),y(t,0),y(n,0),y(void 0,0),y(void 0,0),y(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,f??void 0)),d=>{let m,p,g,h,_,w,M,S;const x=d;(m=ci(e,0,0,r,s,"Window"),L=>{L.push(new v(0,[m]))})(x);const k=x,F=Nf(e,"Window Title");(p=(g=F,de(3+g.Offset.X,3+g.Offset.Y,0,r-6,F.Rect.Height,g.Texture,g.Rect.X,g.Rect.Y,g.Rect.Height,g.Rect.Width)),L=>{L.push(new v(1,[p]))})(k);const P=ie((h=void 0,_=void 0,w=void 0,M=void 0,S=void 0,oe(y(void 0,""),y(4,0),y(24,0),y(void 0,0),y(void 0,0),y(void 0,0),h??void 0,_??void 0,w??void 0,M??void 0,S??void 0)),L=>{const N=o();L.push(new v(0,[N]))});k.push(new v(0,[P]))})}}function yt(e,t,n,r,s){return o=>{let i,u,l,c,f;const d=y(n,li(e)),m=y(r,0)|0,p=y(s,0)|0;let g=0;return ie((i=void 0,u=void 0,l=void 0,c=void 0,f=void 0,oe(y(t,""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,f??void 0)),h=>{Ee(_=>{let w,M,S,x,k,F,P,L,N;(w=_,w===" "?(g=g+4|0,V=>{}):(M=w==="-"?"Minus":w===":"?void 0:w.toUpperCase(),M!=null?(S=D(1-1,Bt(e,`${d}-${M}`).Frames),x=(k=(F=S,P=m+g|0,L=ke(De),N=F.Layers.length-1|0,(()=>{let V,I;for(let A=0;A<=N;A++){const q=D(A,F.Layers);L.push(new v(1,[(V=q,I=V,de(P+I.Offset.X,p+I.Offset.Y,0,V.Rect.Width,V.Rect.Height,I.Texture,I.Rect.X,I.Rect.Y,I.Rect.Height,I.Rect.Width))]))}})(),L),V=>{nn(k,V),Te(De,k)}),V=>{x(V),(g=g+D(0,S.Layers).Rect.Width+1|0,I=>{})(V)}):V=>{}))(h)},o.split(""))})}}function Zf(e,t,n,r,s,o,i,u){let l,c,f,d,m;const p=y(i,32)|0,g=y(u,32)|0;return ie((l=void 0,c=void 0,f=void 0,d=n,m=void 0,oe(y(r,""),y(s,0),y(o,0),y(void 0,0),y(p,0),y(g,0),l??void 0,c??void 0,f??void 0,d??void 0,m??void 0)),h=>{let _;const w=h;(_=ci(e,0,0,p,g,"Button"),S=>{S.push(new v(0,[_]))})(w);const M=yt(e,void 0,void 0,10,10)(t);w.push(new v(0,[M]))})}const Ps=10,_e=Uf();let An=co(0);function ai(e,t,n){se(t,r=>An()),An(0),ef(e,1e3,()=>{ai(e,t)})}function Yf(e){return(t=>{const n=y(void 0,()=>()=>lt(a,b));return new ot(y(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>{let r,s,o,i,u;return ie((r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,oe(y(void 0,""),y(400,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),l=>{let c,f;(c=qr(n,0),si(n,void 0,()=>{ai(n,c)}),f=yt(_e,void 0,void 0,10,10)(In(Gu("FPS: %d%P()",[rt(c)]))),d=>{d.push(new v(0,[f]))})(l)})})(t))}function Xf(e,t,n,r){const s=Ne(e,n)|0;if(s===0)throw new Error("The step of a range cannot be zero");const o=s>0;return i=>{const u=Ne(i,t)|0;return o&&u<=0||!o&&u>=0?[i,r(i,e)]:void 0}}function Kf(e,t,n,r,s){const o=Xf(t,n,r,s);return Ue(()=>Io(o,e))}function Tr(e,t,n){return Kf(e,t,n,0,(r,s)=>r+s)}function jf(e){return(t=>{const n=y(void 0,()=>()=>lt(a,b));return new ot(y(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>Gf(_e,10,150,300,200)(()=>{let r,s,o,i,u;return ie((r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,oe(y(void 0,""),y(10,0),y(10,0),y(void 0,0),y(void 0,0),y(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),l=>{let c,f;const d=l,m=qr(n,!1);(c=Zf(_e,"Click",p=>{se(m,g=>!g)},void 0,void 0,void 0,80),p=>{p.push(new v(0,[c]))})(d),(rt(m)?(f=yt(_e,void 0,void 0,void 0,80)("ON"),p=>{p.push(new v(0,[f]))}):p=>{})(d)})}))(t))}class Ye extends ${constructor(t,n,r,s){super(),this.Value=t,this.Position=n|0,this.Active=r,this.Shift=s}}function qf(e){return(t=>{const n=y(void 0,()=>()=>lt(a,b));return new ot(y(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>{let r,s,o,i,u;const l=zr(n,()=>new Ye("SOME TEXT",9,!1,!1)),c=rt(l);c.Active&&oi(n,m=>{if(m.tag===2){const p=m.fields[0],g=m.fields[1]|0;switch(g){case 259:{if(p&&c.Position>0){const h=Mt(c.Value,0,c.Position-1),_=Mt(c.Value,c.Position);se(l,w=>new Ye(h+_,w.Position-1,w.Active,w.Shift))}break}case 261:{if(p&&c.Position<c.Value.length){const h=Mt(c.Value,0,c.Position),_=Mt(c.Value,c.Position+1);se(l,w=>new Ye(h+_,w.Position,w.Active,w.Shift))}break}case 262:{p&&se(l,h=>new Ye(h.Value,vn(h.Value.length,h.Position+1),h.Active,h.Shift));break}case 263:{p&&se(l,h=>new Ye(h.Value,tn(0,h.Position-1),h.Active,h.Shift));break}case 340:case 344:{se(l,h=>new Ye(h.Value,h.Position,h.Active,p));break}default:if(p){const h=(_,w)=>{const M=c.Shift?w:_,S=c.Position|0,x=Mt(c.Value,0,S)+M+Mt(c.Value,S);se(l,k=>new Ye(x,S+1,k.Active,k.Shift))};switch(g){case 32:{h(" "," ");break}case 39:{h("'","@");break}case 44:{h(",","<");break}case 46:{h(".",">");break}case 47:{h("/","?");break}case 48:{h("0",")");break}case 49:{h("1","!");break}case 50:{h("2",'"');break}case 51:{h("3","");break}case 52:{h("4","$");break}case 53:{h("5","%");break}case 54:{h("6","^");break}case 55:{h("7","&");break}case 56:{h("8","*");break}case 57:{h("9","(");break}case 59:{h(";",":");break}case 65:{h("a","A");break}case 66:{h("b","B");break}case 67:{h("c","C");break}case 68:{h("d","D");break}case 69:{h("e","E");break}case 70:{h("f","F");break}case 71:{h("g","G");break}case 72:{h("h","H");break}case 73:{h("i","I");break}case 74:{h("j","J");break}case 75:{h("k","K");break}case 76:{h("l","L");break}case 77:{h("m","M");break}case 78:{h("n","N");break}case 79:{h("o","O");break}case 80:{h("p","P");break}case 81:{h("q","Q");break}case 82:{h("r","R");break}case 83:{h("s","S");break}case 84:{h("t","T");break}case 85:{h("u","U");break}case 86:{h("v","V");break}case 87:{h("w","W");break}case 88:{h("x","X");break}case 89:{h("y","Y");break}case 90:{h("z","Z");break}}}}}});const f=li(_e);let d=0;return ie((r=void 0,s=void 0,o=void 0,i=m=>{se(l,p=>new Ye(p.Value,p.Position,!0,p.Shift))},u=m=>{se(l,p=>new Ye(p.Value,p.Position,!1,p.Shift))},oe(y(void 0,""),y(0,0),y(400,0),y(void 0,0),y(100,0),y(100,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),m=>{Ee(p=>{let g,h,_,w,M,S,x,k,F,P,L,N,V,I,A,q;const Fe=m,pe=p|0,xe=qu(c.Value,pe);(xe===" "?(d=d+4|0,G=>{}):(g=xe==='"'?"Double Quote":xe===","?"Comma":xe==="-"?"Minus":xe==="."?"Full Stop":xe===":"?void 0:xe==="?"?"Question Mark":xe==="@"?"At":xe.toUpperCase(),g!=null?(h=g,_=(w=We(),[Gr(ui(_e),`${f}-${h}`,new re(()=>w,G=>{w=G})),w]),_[0]?(M=D(1-1,_[1].Frames),S=(x=(k=M,F=0+d|0,P=ke(De),L=k.Layers.length-1|0,(()=>{let G,Q;for(let we=0;we<=L;we++){const ft=D(we,k.Layers);P.push(new v(1,[(G=ft,Q=G,de(F+Q.Offset.X,0+Q.Offset.Y,0,G.Rect.Width,G.Rect.Height,Q.Texture,Q.Rect.X,Q.Rect.Y,Q.Rect.Height,Q.Rect.Width))]))}})(),P),G=>{nn(x,G),Te(De,x)}),G=>{S(G),(d=d+D(0,M.Layers).Rect.Width+1|0,Q=>{})(G)}):G=>{}):G=>{}))(Fe),(c.Active&&pe===c.Position-1?(N=(V=D(1-1,Bt(_e,`${f}-Caret`).Frames),I=0+d-2|0,A=ke(De),q=V.Layers.length-1|0,(()=>{let G,Q;for(let we=0;we<=q;we++){const ft=D(we,V.Layers);A.push(new v(1,[(G=ft,Q=G,de(I+Q.Offset.X,0+Q.Offset.Y,0,G.Rect.Width,G.Rect.Height,Q.Texture,Q.Rect.X,Q.Rect.Y,Q.Rect.Height,Q.Rect.Width))]))}})(),A),G=>{nn(N,G),Te(De,N)}):G=>{})(Fe)},Tr(0,1,c.Value.length-1))})})(t))}function zf(e){return(t=>{const n=y(void 0,()=>()=>lt(a,b));return new ot(y(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>{let r,s,o,i,u;const l=zr(n,()=>He("Nothing"));return ie((r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,oe(y(void 0,""),y(10,0),y(10,0),y(void 0,0),y(void 0,0),y(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),c=>{let f,d,m,p,g,h;const _=c;(f=yt(_e)(T(rt(l))),M=>{M.push(new v(0,[f]))})(_);const w=ie((d=void 0,m=M=>{se(l,S=>pr(He("Outer"),S))},p=M=>{se(l,S=>H(S)?Ve():B(S))},g=void 0,h=void 0,oe(y("Outer",""),y(0,0),y(40,0),y(void 0,0),y(118,0),y(100,0),d??void 0,m??void 0,p??void 0,g??void 0,h??void 0)),M=>{let S,x,k,F,P,L;const N=M;(S=yt(_e)("Outer"),I=>{I.push(new v(0,[S]))})(N);const V=ie((x=void 0,k=I=>{se(l,A=>pr(He("Inner"),A))},F=I=>{se(l,A=>H(A)?Ve():B(A))},P=void 0,L=void 0,oe(y("Inner",""),y(0,0),y(40,0),y(void 0,0),y(118,0),y(19,0),x??void 0,k??void 0,F??void 0,P??void 0,L??void 0)),I=>{const A=yt(_e)("Inner");I.push(new v(0,[A]))});N.push(new v(0,[V]))});_.push(new v(0,[w]))})})(t))}class Jf extends ${constructor(t,n,r,s){super(),this.X=t,this.Y=n,this.Width=r,this.Height=s}}class Qf extends ${constructor(t,n,r){super(),this.X=t,this.Y=n,this.Radius=r}}function ed(e,t){let n,r;const s=e.X+e.Width/2,o=e.Y+e.Height/2,i=Math.abs(t.X-s),u=Math.abs(t.Y-o);return i>e.Width/2+t.Radius||u>e.Height/2+t.Radius?!1:i<=e.Width/2||u<=e.Height/2?!0:(n=i-e.Width/2,Math.pow(n,2)+(r=u-e.Height/2,Math.pow(r,2))<=Math.pow(t.Radius,2))}function Re(e,t){if(Math.abs(e+360-(t+360))<15)return me(void 0)}function td(e,t,n,r,s){const o=Bc(r),i=l=>{if(!Me(l,br())){const c=Uc(Wc(l,t),n),f=new Qf(c.X,c.Y,s),d=vn(~~Math.floor(n.X-s),~~Math.floor(c.X-s))|0,m=tn(~~Math.ceil(n.X+s),~~Math.ceil(c.X+s))|0,p=vn(~~Math.floor(n.Y-s),~~Math.floor(c.Y-s))|0,g=tn(~~Math.ceil(n.Y+s),~~Math.ceil(c.Y+s))|0;let h=!0;for(let _=d;_<=m;_++)for(let w=p;w<=g;w++)h&&!e(new Qe(_,w))&&ed(new Jf(_,w,1,1),f)&&(h=!1);return h?c:void 0}},u=i(o);if(u!=null)return u;{let l;const c=(h,_)=>e(new Qe(h,_)),f=h=>~~Math.floor(h),d=f(n.X)|0,m=f(n.Y)|0,p=Is(n.X-d),g=Is(n.Y-m);if(l==null){const h=i(new K(o.X,0));if(h!=null){const _=h;Fn(n,_).Distance>.2*t&&(l=_)}else{const _=i(new K(0,o.Y));if(_!=null){const w=_;Fn(n,w).Distance>.2*t&&(l=w)}}}if(l==null){const h=r.Angle;if(Re(90,h)!=null){if(g>=.5&&c(d+1,m)){const _=i(new K(0,-1));_!=null&&(l=_)}else if(g<=.5&&c(d+1,m)){const _=i(new K(0,1));_!=null&&(l=_)}}else if(Re(270,h)!=null){if(g>=.5&&c(d-1,m)){const _=i(new K(0,-1));_!=null&&(l=_)}else if(g<=.5&&c(d-1,m)){const _=i(new K(0,1));_!=null&&(l=_)}}else if(Re(180,h)!=null){if(p>=.5&&c(d,m+1)){const _=i(new K(-1,0));_!=null&&(l=_)}else if(p<=.5&&c(d,m+1)){const _=i(new K(1,0));_!=null&&(l=_)}}else if(Re(0,h)!=null){if(p>=.5&&c(d,m-1)){const _=i(new K(-1,0));_!=null&&(l=_)}else if(p<=.5&&c(d,m-1)){const _=i(new K(1,0));_!=null&&(l=_)}}}if(l==null){const h=r.Angle;let _;switch(Re(90,h)!=null&&g<.4&&c(d,m-1)&&c(d+1,m-1)?_=0:_=1,_){case 0:{const w=i(new K(0,-1));w!=null&&(l=w);break}case 1:{let w;switch(Re(90,h)!=null&&g>.6&&c(d,m+1)&&c(d+1,m+1)?w=0:w=1,w){case 0:{const M=i(new K(0,1));M!=null&&(l=M);break}case 1:{let M;switch(Re(270,h)!=null&&g<.4&&c(d,m-1)&&c(d-1,m-1)?M=0:M=1,M){case 0:{const S=i(new K(0,-1));S!=null&&(l=S);break}case 1:{let S;switch(Re(270,h)!=null&&g>.6&&c(d,m+1)&&c(d-1,m+1)?S=0:S=1,S){case 0:{const x=i(new K(0,1));x!=null&&(l=x);break}case 1:{let x;switch(Re(180,h)!=null&&p<.4&&c(d-1,m)&&c(d-1,m+1)?x=0:x=1,x){case 0:{const k=i(new K(-1,0));k!=null&&(l=k);break}case 1:{let k;switch(Re(180,h)!=null&&p>.6&&c(d+1,m)&&c(d+1,m+1)?k=0:k=1,k){case 0:{const F=i(new K(1,0));F!=null&&(l=F);break}case 1:{let F;switch(Re(0,h)!=null&&p<.4&&c(d-1,m)&&c(d-1,m-1)?F=0:F=1,F){case 0:{const P=i(new K(-1,0));P!=null&&(l=P);break}case 1:{let P;switch(Re(0,h)!=null&&p>.6&&c(d+1,m)&&c(d+1,m-1)?P=0:P=1,P){case 0:{const L=i(new K(1,0));L!=null&&(l=L);break}}break}}break}}break}}break}}break}}break}}break}}}return l??n}}function yn(){return Ve()}function nd(e,t,n,r){return(s=>{const o=y(void 0,()=>()=>lt(a,b));return new ot(y(e,""),void 0,(i,u)=>{try{return o(void 0)(void 0)}catch(l){throw l}},(i,u)=>s(i)(void 0))})(s=>()=>(o=>{const i=zr(o,()=>new nr(0,[t()])),u=qr(o,f=>{}),l=f=>{rt(u)(f)};si(o,void 0,()=>{let f;const d=rt(i);if(d.tag===0)se(i,p=>new nr(1,[d.fields[0][0]])),f=d.fields[0][1];else throw new Error("");se(u,p=>g=>{const h=rt(i);if(h.tag===1){const _=n(g,h.fields[0]);se(i,M=>new nr(1,[_[0]]));const w=W(_[1]);try{for(;w["System.Collections.IEnumerator.MoveNext"]();)w["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{J(w)}}else throw new Error("")});const m=W(f);try{for(;m["System.Collections.IEnumerator.MoveNext"]();)m["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{J(m)}});const c=rt(i);if(c.tag===1)return r(c.fields[0],l);throw new Error("")})(s))}class rd extends ${constructor(t,n,r,s){super(),this.Up=t,this.Down=n,this.Left=r,this.Right=s}}class sd extends ${constructor(t,n){super(),this.Thumbstick=t,this.Buttons=n}}class Se extends ge{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Gound","Wall"]}}class od extends ${constructor(t,n){super(),this.Grid=t,this.UpdateCounter=n}}class id extends ${constructor(t,n,r,s,o){super(),this.Position=t,this.Angle=n,this.Tag=r,this.Frame=s,this.UpdateCounter=o}}function ar(e){e.UpdateCounter=Pn(Su(e.UpdateCounter,1n))}class ud extends ${constructor(t){super(),this.Player1=t}}class Dr extends ${constructor(t,n,r,s){super(),this.Controller=t,this.World=n,this.Players=r,this.IsActive=s}}class Jt extends ge{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Noop","Input","Focus","Blur","Tick"]}}function ld(){let e,t;const n=ws(8,r=>ws(8,s=>new Se(0,[])));return D(1,n)[1]=new Se(1,[]),D(3,n)[1]=new Se(1,[]),D(1,n)[3]=new Se(1,[]),D(2,n)[3]=new Se(1,[]),D(3,n)[3]=new Se(1,[]),D(4,n)[3]=new Se(1,[]),D(5,n)[4]=new Se(1,[]),D(5,n)[5]=new Se(1,[]),D(5,n)[3]=new Se(1,[]),D(1,n)[5]=new Se(1,[]),D(2,n)[5]=new Se(1,[]),D(3,n)[5]=new Se(1,[]),[(e=new od(n,0n),t=new ud(new id(new K(.5,.5),"South","Idle",0,0n)),new Dr(new sd(Sr(),new rd(!1,!1,!1,!1)),e,t,!1)),al([He(r=>{r(new Jt(4,[]))})])]}function cd(e,t){const n=gr(t.Y,e.World.Grid);if(n!=null){const r=gr(t.X,n);return r!=null?r.tag===0:!1}else return!1}function ad(e,t){let n,r;switch(e.tag){case 4:{const s=t.Players.Player1;let o;const i=t.Controller.Buttons,u=t.Controller.Thumbstick;let l=Sr(),c=0,f=0;if(i.Up&&(c=c-1),i.Down&&(c=c+1),i.Left&&(f=f-1),i.Right&&(f=f+1),(c!==0||f!==0)&&(l=new sn(Fn(br(),new K(f,c)).Angle,1)),u.Distance>0&&(l=(n=u,new sn(n.Angle,(d=>vn(d,1))(n.Distance)))),o=l,o.Distance>0){const d=Ps/200;s.Position=td(m=>cd(t,m),d,s.Position,o,.4),s.Angle=(r=Hc(o).Angle,r===0?"North":r===90?"East":r===180?"South":"West"),o.Distance>0?(s.Tag=o.Distance<.8?"Walk":"Run",s.Frame=(s.Frame+o.Distance*d*4)%8):(s.Tag="Idle",s.Frame=0),ar(s)}else s.Tag!=="Idle"&&(s.Tag="Idle",s.Frame=0,ar(s));return[t,He(d=>{tf(Ps,()=>{d((()=>new Jt(4,[]))())})})]}case 1:{const s=e.fields[0];switch(s.tag){case 0:{t.Controller.Thumbstick=Fn(br(),new K(s.fields[0],s.fields[1]));break}case 1:{const o=s.fields[0];switch(s.fields[1].tag){case 2:{t.Controller.Buttons.Left=o;break}case 1:{t.Controller.Buttons.Down=o;break}case 3:{t.Controller.Buttons.Right=o;break}default:t.Controller.Buttons.Up=o}break}default:{const o=s.fields[0];switch(s.fields[1]|0){case 65:case 263:{t.Controller.Buttons.Left=o;break}case 68:case 262:{t.Controller.Buttons.Right=o;break}case 83:case 264:{t.Controller.Buttons.Down=o;break}case 87:case 265:{t.Controller.Buttons.Up=o;break}}}}return[t,yn()]}case 2:{const s=new Dr(t.Controller,t.World,t.Players,!0);return ar(s.Players.Player1),[s,yn()]}case 3:{const s=new Dr(t.Controller,t.World,t.Players,!1),o=s.Controller.Buttons;return o.Up=!1,o.Left=!1,o.Down=!1,o.Right=!1,s.Controller.Thumbstick=Sr(),[s,yn()]}default:return[t,yn()]}}function $s(e,t,n,r){return Me(t,r)}function fd(e){let t,n,r,s,o,i,u;const l=Bt(_e,`Player-${e.Angle}-${e.Tag}`),c=~~e.Frame+1|0;return ie((t=~~(e.Position.X*32)-16,n=~~(e.Position.Y*32)-16,r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,oe(y(void 0,""),y(t,0),y(n,0),y(void 0,0),y(void 0,0),y(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),f=>{const d=Kn(jn(),m=>{let p,g,h;const _=D(c-1,l.Frames),w=ke(De),M=_.Layers.length-1|0;for(let S=0;S<=M;S++){const x=D(S,_.Layers);w.push(new v(1,[(p=x,g=p,de(0+g.Offset.X,0+g.Offset.Y,0,p.Rect.Width,p.Rect.Height,g.Texture,g.Rect.X,g.Rect.Y,g.Rect.Height,g.Rect.Width))]))}h=w,nn(h,m),Te(De,h)});f.push(new v(2,[d]))})}function dd(e){let t,n,r,s,o;return ie((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,oe(y(void 0,""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0)),i=>{const u=Kn(jn(),l=>{Ee(c=>{const f=c|0,d=D(f,e.Grid);Ee(m=>{const p=m|0,g=D(p,d),h=Wf(_e,g.tag===0?"Earth":"Wall",1,[p*32,f*32]);nn(h,l),Te(De,h)},Tr(0,1,d.length-1))},Tr(0,1,e.Grid.length-1))});i.push(new v(2,[u]))})}function hd(e,t){let n,r,s,o,i,u,l;return ie((n=e.World.Grid.length*32,r=D(0,e.World.Grid).length*32,s=void 0,o=void 0,i=void 0,u=c=>{t(new Jt(2,[]))},l=c=>{t(new Jt(3,[]))},oe(y(void 0,""),y(400,0),y(100,0),y(1,0),y(n,0),y(r,0),s??void 0,o??void 0,i??void 0,u??void 0,l??void 0)),c=>{let f,d,m,p,g,h,_;const w=c;(f=(d=y(void 0,S=>x=>lt(S,x)),new ot(y("input",""),e.IsActive,(S,x)=>{try{return d(S)(x)}catch(k){throw k}},(S,x)=>((k,F)=>{let P,L,N,V,I;return Qa(k,()=>new Ja),F&&oi(k,A=>{t(new Jt(1,[A]))}),ie((P=void 0,L=void 0,N=void 0,V=void 0,I=void 0,oe(y(void 0,""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),P??void 0,L??void 0,N??void 0,V??void 0,I??void 0)),A=>{const q=Kn(jn(),Fe=>{const pe=yt(_e)(F?"Active":"Click on the world to activate");Fe.push(new v(0,[pe]))});A.push(new v(2,[q]))})})(S,x))),S=>{S.push(new v(4,[f]))})(w);const M=ie((m=void 0,p=void 0,g=void 0,h=void 0,_=void 0,oe(y("world holder",""),y(void 0,0),y(64,0),y(void 0,0),y(void 0,0),y(void 0,0),m??void 0,p??void 0,g??void 0,h??void 0,_??void 0)),S=>{let x,k,F;const P=S;(x=(k=[e.World,e.World.UpdateCounter],F=y(I=>A=>$s(I[0],I[1],A[0],A[1]),I=>A=>lt(I,A)),new ot(y("world",""),k,(I,A)=>{try{return F(I)(A)}catch(q){throw q}},(I,A)=>((q,Fe)=>dd(Fe[0]))(I,A))),I=>{I.push(new v(4,[x]))})(P);let L;const N=[e.Players.Player1,e.Players.Player1.UpdateCounter],V=y(I=>A=>$s(I[0],I[1],A[0],A[1]),I=>A=>lt(I,A));L=new ot(y("player",""),N,(I,A)=>{try{return V(I)(A)}catch(q){throw q}},(I,A)=>((q,Fe)=>fd(Fe[0]))(I,A)),P.push(new v(4,[L]))});w.push(new v(0,[M]))})}function md(e){return nd(e,ld,ad,hd)}class R extends ge{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class fi extends ge{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PascalCase","CamelCase","SnakeCase"]}}class di extends ${constructor(t,n){super(),this.Hash=t,this.Coders=n}}class _d{constructor(){this.cache=new Map([])}}function gd(){return new _d}function pd(e,t,n){let r,s=We();if(r=[Gr(e.cache,t,new re(()=>s,o=>{s=o})),s],r[0])return r[1];{const o=n();return Hl(e.cache,t,o),o}}const wd=gd();function Bs(e){return e.slice(void 0,0+1).toLowerCase()+e.slice(1,e.length)}function yd(e,t){switch(e.tag){case 2:return Wu(Bs(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return Bs(t)}}const Sd=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,Hs=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,bd=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function Cd(e){function t(r){return r.replace(Hs,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(Sd.test(n))return zu(n,"{","}","(",")");if(Hs.test(n))return t(n);if(bd.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function Md(e,t){try{return t.contents=Cd(e),!0}catch{return!1}}function Ed(){let e="";for(let t=0;t++<36;)e+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-";return e}var Ir;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(Ir||(Ir={}));function xd(e,t){const[,n,r,s]=e;return{sign:n||"",prefix:r||"",digits:s,radix:t}}function Us(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function Rd(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function kd(e){switch(e){case 2:return"0b";case 8:return"0o";case 10:return"";case 16:return"0x";default:return""}}function Td(e,t){if(t&Ir.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function hi(e,t,n){const s=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(s!=null){const[,,o,i]=s;if(n=n||Td(o,t),!Rd(n).test(i))return xd(s,n)}return null}function Dd(e,t,n,r,s){const o=hi(e,t,s);if(o!=null){let i=Number.parseInt(o.sign+o.digits,o.radix);if(!Number.isNaN(i)){const[u,l]=Us(!0,r);!n&&o.radix!==10&&i>=u&&i<=l&&(i=i<<32-r>>32-r);const[c,f]=Us(n,r);if(i>=c&&i<=f)return i}}throw new Error(`The input string ${e} was not in a correct format.`)}function Ht(e,t,n,r,s){try{return s.contents=Dd(e,t,n,r),!0}catch{return!1}}function Id(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}function vd(e,t,n,r,s){const o=hi(e,t,s);if(o!=null){const i=(c,f)=>{const d=Math.max(c.length,f.length);return c.padStart(d,"0")<=f.padStart(d,"0")},u=o.sign==="-",l=Id(n||o.radix!==10,o.radix,u);if(i(o.digits.toUpperCase(),l))return e=kd(o.radix)+o.digits,e=u?o.sign+e:e,Cu(e)}throw new Error(`The input string ${e} was not in a correct format.`)}function Vd(e,t,n,r,s){try{return s.contents=vd(e,t,n,r),!0}catch{return!1}}function mi(e,t){Fd(t);const n=new Date(e);return n.offset=t??new Date().getTimezoneOffset()*-6e4,n}function Fd(e){if(e!=null&&e!==0){if(e%6e4!==0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}function Ad(){return mi(-621355968e5,0)}function Od(e){const[t,n]=yo(e),r=n==null?t.getTimezoneOffset()*-6e4:n==="Z"?0:n*6e4;return mi(t.getTime(),r)}function Ld(e,t){try{return t.contents=Od(e),!0}catch{return!1}}class _i{constructor(t){this.k=t}}function be(e){return new _i(e)}function O(e){return e.k}class U extends _i{constructor(t,n,r,s){super(t),this.left=n,this.right=r,this.h=s|0}}function Ce(e,t,n,r){return new U(e,t,n,r)}function X(e){return e.left}function Y(e){return e.right}function Dt(e){return e.h}function gi(e,t){e:for(;;){const n=e,r=t;if(n!=null){const s=E(n);if(s instanceof U){const o=s;e=X(o),t=gi(Y(o),r+1);continue e}else return r+1|0}else return r|0}}function Pd(e){return gi(e,0)}function Oe(e,t,n){let r,s,o;const i=e;if(i!=null){const f=E(i);o=f instanceof U?(r=f,Dt(r)):1}else o=0;let u;const l=n;if(l!=null){const f=E(l);u=f instanceof U?(s=f,Dt(s)):1}else u=0;const c=(o<u?u:o)|0;return c===0?be(t):Ce(t,e,n,c+1)}function Ws(e,t,n){let r,s,o,i,u,l,c,f,d;const m=e;if(m!=null){const h=E(m);d=h instanceof U?(r=h,Dt(r)):1}else d=0;let p;const g=n;if(g!=null){const h=E(g);p=h instanceof U?(s=h,Dt(s)):1}else p=0;if(p>d+2){const h=E(n);if(h instanceof U){const _=h;if(o=X(_),(o!=null?(i=E(o),i instanceof U?(u=i,Dt(u)):1):0)>d+1){const w=E(X(_));if(w instanceof U){const M=w;return Oe(Oe(e,t,X(M)),O(M),Oe(Y(M),O(_),Y(_)))}else throw new Error("internal error: Set.rebalance")}else return Oe(Oe(e,t,X(_)),O(_),Y(_))}else throw new Error("internal error: Set.rebalance")}else if(d>p+2){const h=E(e);if(h instanceof U){const _=h;if(l=Y(_),(l!=null?(c=E(l),c instanceof U?(f=c,Dt(f)):1):0)>p+1){const w=E(Y(_));if(w instanceof U){const M=w;return Oe(Oe(X(_),O(_),X(M)),O(M),Oe(Y(M),t,n))}else throw new Error("internal error: Set.rebalance")}else return Oe(X(_),O(_),Oe(Y(_),t,n))}else throw new Error("internal error: Set.rebalance")}else return Oe(e,t,n)}function on(e,t,n){if(n!=null){const r=E(n),s=e.Compare(t,O(r))|0;if(r instanceof U){const o=r;return s<0?Ws(on(e,t,X(o)),O(o),Y(o)):s===0?n:Ws(X(o),O(o),on(e,t,Y(o)))}else{const o=e.Compare(t,O(r))|0;return o<0?Ce(t,void 0,n,2):o===0?n:Ce(t,n,void 0,2)}}else return be(t)}function pi(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=E(o),u=r.Compare(s,O(i))|0;if(i instanceof U){const l=i;if(u<0){e=r,t=s,n=X(l);continue e}else{if(u===0)return!0;e=r,t=s,n=Y(l);continue e}}else return u===0}else return!1}}function wi(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=E(r);if(s instanceof U){const o=s;wi(n,X(o)),n(O(o)),e=n,t=Y(o);continue e}else n(O(s))}break}}class $d extends ${constructor(t,n){super(),this.stack=t,this.started=n}}function yi(e){e:for(;;){const t=e;if(H(t))return Ve();{const n=T(t),r=B(t);if(n!=null){const s=E(n);if(s instanceof U){const o=s;e=z([X(o),be(O(o)),Y(o)],r);continue e}else return t}else{e=r;continue e}}}}function Ns(e){return new $d(yi(He(e)),!1)}function Bd(){throw new Error("Enumeration not started")}function Hd(){throw new Error("Enumeration already started")}function Gs(e){if(e.started){const t=e.stack;if(H(t))return Hd();if(T(t)!=null){const n=E(T(t));return O(n)}else throw new Error("Please report error: Set iterator, unexpected stack for current")}else return Bd()}function Ud(e){if(e.started){const t=e.stack;if(H(t))return!1;if(T(t)!=null){if(E(T(t))instanceof U)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=yi(B(t)),!H(e.stack)}else throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}else return e.started=!0,!H(e.stack)}function Zs(e){let t=Ns(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return Gs(t)},"System.Collections.IEnumerator.get_Current"(){return Gs(t)},"System.Collections.IEnumerator.MoveNext"(){return Ud(t)},"System.Collections.IEnumerator.Reset"(){t=Ns(e)},Dispose(){}}}function Wd(e,t,n){e:for(;;){const r=e,s=t,o=n;if(H(s))return H(o)?0:-1;if(H(o))return 1;if(T(o)!=null)if(T(s)!=null){const i=E(T(s)),u=E(T(o));if(i instanceof U){const l=i;if(X(l)==null)if(u instanceof U){const c=u;if(X(c)==null){const f=r.Compare(O(l),O(c))|0;if(f!==0)return f|0;e=r,t=Be(Y(l),B(s)),n=Be(Y(c),B(o));continue e}else{let f,d,m,p,g;switch(H(s)?H(o)?f=2:T(o)!=null?(f=1,p=B(o),g=E(T(o))):f=2:T(s)!=null?(f=0,d=B(s),m=E(T(s))):H(o)?f=2:T(o)!=null?(f=1,p=B(o),g=E(T(o))):f=2,f){case 0:if(m instanceof U){const h=m;e=r,t=z([X(h),Ce(O(h),void 0,Y(h),0)],d),n=o;continue e}else{e=r,t=z([void 0,be(O(m))],d),n=o;continue e}case 1:if(g instanceof U){const h=g;e=r,t=s,n=z([X(h),Ce(O(h),void 0,Y(h),0)],p);continue e}else{e=r,t=s,n=z([void 0,be(O(g))],p);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const c=r.Compare(O(l),O(u))|0;if(c!==0)return c|0;e=r,t=Be(Y(l),B(s)),n=Be(void 0,B(o));continue e}else{let c,f,d,m,p;switch(H(s)?H(o)?c=2:T(o)!=null?(c=1,m=B(o),p=E(T(o))):c=2:T(s)!=null?(c=0,f=B(s),d=E(T(s))):H(o)?c=2:T(o)!=null?(c=1,m=B(o),p=E(T(o))):c=2,c){case 0:if(d instanceof U){const g=d;e=r,t=z([X(g),Ce(O(g),void 0,Y(g),0)],f),n=o;continue e}else{e=r,t=z([void 0,be(O(d))],f),n=o;continue e}case 1:if(p instanceof U){const g=p;e=r,t=s,n=z([X(g),Ce(O(g),void 0,Y(g),0)],m);continue e}else{e=r,t=s,n=z([void 0,be(O(p))],m);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else if(u instanceof U){const l=u;if(X(l)==null){const c=r.Compare(O(i),O(l))|0;if(c!==0)return c|0;e=r,t=Be(void 0,B(s)),n=Be(Y(l),B(o));continue e}else{let c,f,d,m,p;switch(H(s)?H(o)?c=2:T(o)!=null?(c=1,m=B(o),p=E(T(o))):c=2:T(s)!=null?(c=0,f=B(s),d=E(T(s))):H(o)?c=2:T(o)!=null?(c=1,m=B(o),p=E(T(o))):c=2,c){case 0:if(d instanceof U){const g=d;e=r,t=z([X(g),Ce(O(g),void 0,Y(g),0)],f),n=o;continue e}else{e=r,t=z([void 0,be(O(d))],f),n=o;continue e}case 1:if(p instanceof U){const g=p;e=r,t=s,n=z([X(g),Ce(O(g),void 0,Y(g),0)],m);continue e}else{e=r,t=s,n=z([void 0,be(O(p))],m);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const l=r.Compare(O(i),O(u))|0;if(l!==0)return l|0;e=r,t=B(s),n=B(o);continue e}}else{E(T(o));let i,u,l,c,f;switch(H(s)?H(o)?i=2:T(o)!=null?(i=1,c=B(o),f=E(T(o))):i=2:T(s)!=null?(i=0,u=B(s),l=E(T(s))):H(o)?i=2:T(o)!=null?(i=1,c=B(o),f=E(T(o))):i=2,i){case 0:if(l instanceof U){const d=l;e=r,t=z([X(d),Ce(O(d),void 0,Y(d),0)],u),n=o;continue e}else{e=r,t=z([void 0,be(O(l))],u),n=o;continue e}case 1:if(f instanceof U){const d=f;e=r,t=s,n=z([X(d),Ce(O(d),void 0,Y(d),0)],c);continue e}else{e=r,t=s,n=z([void 0,be(O(f))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else if(T(s)!=null){E(T(s));let i,u,l,c,f;switch(H(s)?H(o)?i=2:T(o)!=null?(i=1,c=B(o),f=E(T(o))):i=2:T(s)!=null?(i=0,u=B(s),l=E(T(s))):H(o)?i=2:T(o)!=null?(i=1,c=B(o),f=E(T(o))):i=2,i){case 0:if(l instanceof U){const d=l;e=r,t=z([X(d),Ce(O(d),void 0,Y(d),0)],u),n=o;continue e}else{e=r,t=z([void 0,be(O(l))],u),n=o;continue e}case 1:if(f instanceof U){const d=f;e=r,t=s,n=z([X(d),Ce(O(d),void 0,Y(d),0)],c);continue e}else{e=r,t=s,n=z([void 0,be(O(f))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else{e=r,t=B(s),n=B(o);continue e}}}function Ys(e,t,n){return t==null?n==null?0:-1:n==null?1:Wd(e,He(t),He(n))|0}function Nd(e,t,n){let r=n;wi(s=>{St(t,r,s),r=r+1|0},e)}function Gd(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){e=r,t=on(r,o["System.Collections.Generic.IEnumerator`1.get_Current"](),s),n=o;continue e}else return s}}function Zd(e,t){return Bn((n,r)=>on(e,r,n),void 0,t)}function Yd(e,t){return $t((n,r)=>on(e,r,n),void 0,t)}function Xd(e,t){if(Ie(t))return Zd(e,t);if(t instanceof ve)return Yd(e,t);{const n=W(t);try{return Gd(e,void 0,n)}finally{J(n)}}}class Jr{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return qd(this)|0}Equals(t){let n;const r=this;return t instanceof Jr&&(n=t,Ys(Cn(r),$e(r),$e(n))===0)}toString(){return"set ["+$n("; ",tt(n=>Pe(n),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const n=this;return Ys(Cn(n),$e(n),$e(t))|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return pi(Cn(n),t,$e(n))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){Nd($e(this),t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return fr(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return fr(this)|0}GetEnumerator(){return Zs($e(this))}[Symbol.iterator](){return Ot(W(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Zs($e(this))}get size(){return fr(this)|0}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return jd(this,t)}keys(){return tt(n=>n,this)}values(){return tt(n=>n,this)}entries(){return tt(n=>[n,n],this)}forEach(t,n){const r=this;Ee(s=>{t(s,s,r)},r)}}function Kd(e,t){return new Jr(e,t)}function Cn(e){return e.comparer}function $e(e){return e.tree}function fr(e){return Pd($e(e))}function jd(e,t){return pi(Cn(e),t,$e(e))}function qd(e){let t=0;const n=W(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+je(r)+631|0}}finally{J(n)}return Math.abs(t)|0}function zd(e,t){return Kd(t,Xd(t,e))}function Nt(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?`
`:" ")+(JSON.stringify(t,null,4)+"")}catch{return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?`
`:" ")}}function Jd(e,t){const n=t.tag===2?Nt(t.fields[0],t.fields[1],!0):t.tag===1?Nt(t.fields[0],t.fields[1],!1)+`
Reason: `+t.fields[2]:t.tag===3?Nt(t.fields[0],t.fields[1],!0):t.tag===4?Nt(t.fields[0],t.fields[1],!0)+("\nNode `"+t.fields[2]+"` is unkown."):t.tag===5?"Expecting "+t.fields[0]+`.
`+(JSON.stringify(t.fields[1],null,4)+""):t.tag===7?`The following errors were found:

`+$n(`

`,t.fields[0]):t.tag===6?"The following `failure` occurred with the decoder: "+t.fields[0]:Nt(t.fields[0],t.fields[1],!1);return t.tag===7?n:"Error at: `"+e+"`\n"+n}function Si(e,t,n){const r=t(e,n);if(r.tag===1){const s=r.fields[0];return new C(1,[Jd(s[0],s[1])])}else return new C(0,[r.fields[0]])}function Qd(e,t){try{return Si("$",e,JSON.parse(t))}catch(n){if(n instanceof SyntaxError)return new C(1,["Given an invalid JSON: "+n.message]);throw n}}function e0(e,t){const n=Qd(e,t);if(n.tag===1)throw new Error(n.fields[0]);return n.fields[0]}function bi(e,t){return typeof t=="string"?new C(0,[t]):new C(1,[[e,new R(0,["a string",t])]])}function t0(e,t){if(typeof t=="string"){const n=t;return n.length===1?new C(0,[n[0]]):new C(1,[[e,new R(0,["a single character string",t])]])}else return new C(1,[[e,new R(0,["a char",t])]])}function n0(e,t){if(typeof t=="string"){let n,r="00000000-0000-0000-0000-000000000000";return n=[Md(t,new re(()=>r,s=>{r=s})),r],n[0]?new C(0,[n[1]]):new C(1,[[e,new R(0,["a guid",t])]])}else return new C(1,[[e,new R(0,["a guid",t])]])}function r0(e,t){return t==null?new C(0,[void 0]):new C(1,[[e,new R(0,["null",t])]])}const Xs=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-128<=s&&s<=127?new C(0,[(s+128&255)-128]):new C(1,[[n,new R(1,["a sbyte",s,"Value was either too large or too small for a sbyte"])]]):new C(1,[[n,new R(1,["a sbyte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[Ht(r,511,!1,8,new re(()=>o,i=>{o=i|0})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new R(0,["a sbyte",r])]])}else return new C(1,[[n,new R(0,["a sbyte",r])]])},Ks=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=255?new C(0,[s&255]):new C(1,[[n,new R(1,["a byte",s,"Value was either too large or too small for a byte"])]]):new C(1,[[n,new R(1,["a byte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[Ht(r,511,!0,8,new re(()=>o,i=>{o=i})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new R(0,["a byte",r])]])}else return new C(1,[[n,new R(0,["a byte",r])]])},js=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-32768<=s&&s<=32767?new C(0,[(s+32768&65535)-32768]):new C(1,[[n,new R(1,["an int16",s,"Value was either too large or too small for an int16"])]]):new C(1,[[n,new R(1,["an int16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[Ht(r,511,!1,16,new re(()=>o,i=>{o=i|0})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new R(0,["an int16",r])]])}else return new C(1,[[n,new R(0,["an int16",r])]])},qs=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=65535?new C(0,[s&65535]):new C(1,[[n,new R(1,["an uint16",s,"Value was either too large or too small for an uint16"])]]):new C(1,[[n,new R(1,["an uint16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[Ht(r,511,!0,16,new re(()=>o,i=>{o=i})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new R(0,["an uint16",r])]])}else return new C(1,[[n,new R(0,["an uint16",r])]])},zs=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-2147483648<=s&&s<=2147483647?new C(0,[~~s]):new C(1,[[n,new R(1,["an int",s,"Value was either too large or too small for an int"])]]):new C(1,[[n,new R(1,["an int",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[Ht(r,511,!1,32,new re(()=>o,i=>{o=i|0})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new R(0,["an int",r])]])}else return new C(1,[[n,new R(0,["an int",r])]])},Js=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=4294967295?new C(0,[s>>>0]):new C(1,[[n,new R(1,["an uint32",s,"Value was either too large or too small for an uint32"])]]):new C(1,[[n,new R(1,["an uint32",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[Ht(r,511,!0,32,new re(()=>o,i=>{o=i})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new R(0,["an uint32",r])]])}else return new C(1,[[n,new R(0,["an uint32",r])]])},s0=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?as(-9223372036854775808n)<=s&&s<=as(9223372036854775807n)?new C(0,[Pn(bu(s))]):new C(1,[[n,new R(1,["an int64",s,"Value was either too large or too small for an int64"])]]):new C(1,[[n,new R(1,["an int64",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0n;return s=[Vd(r,511,!1,64,new re(()=>o,i=>{o=i})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new R(0,["an int64",r])]])}else return new C(1,[[n,new R(0,["an int64",r])]])};function o0(e,t){return typeof t=="boolean"?new C(0,[t]):new C(1,[[e,new R(0,["a boolean",t])]])}function i0(e,t){return typeof t=="number"?new C(0,[t]):new C(1,[[e,new R(0,["a float",t])]])}function u0(e,t){return typeof t=="number"?new C(0,[t]):new C(1,[[e,new R(0,["a float32",t])]])}function l0(e,t){if(typeof t=="string"){let n,r=Vu();return n=[Au(t,new re(()=>r,s=>{r=s})),r],n[0]?new C(0,[Ou(n[1])]):new C(1,[[e,new R(0,["a datetime",t])]])}else return new C(1,[[e,new R(0,["a datetime",t])]])}function c0(e,t){if(typeof t=="string"){let n,r=Ad();return n=[Ld(t,new re(()=>r,s=>{r=s})),r],n[0]?new C(0,[n[1]]):new C(1,[[e,new R(0,["a datetimeoffset",t])]])}else return new C(1,[[e,new R(0,["a datetime",t])]])}function a0(e,t){if(typeof t=="string"){let n,r=0;return n=[lf(t,new re(()=>r,s=>{r=s})),r],n[0]?new C(0,[n[1]]):new C(1,[[e,new R(0,["a timespan",t])]])}else return new C(1,[[e,new R(0,["a timespan",t])]])}function Qs(e,t,n,r){let s;const o=n+".["+st(e)+"]";if(Array.isArray(r)){const i=r;return e<i.length?t(o,D(e,i)):new C(1,[[o,new R(5,["a longer array. Need index `"+st(e)+"` but there are only `"+(s=i.length,st(s))+"` entries",r])]])}else return new C(1,[[o,new R(0,["an array",r])]])}function f0(e,t,n){return n==null?new C(0,[void 0]):ze(me,e(t,n))}function eo(e,t,n){if(Array.isArray(n)){let r=-1;return ze(Br,Bn((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+st(r)+"]",o);return i.tag===0?new C(0,[Be(i.fields[0],s.fields[0])]):new C(1,[i.fields[0]])}else return s},new C(0,[Ve()]),n))}else return new C(1,[[t,new R(0,["a list",n])]])}function d0(e,t,n){if(Array.isArray(n)){let r=-1;return ze(Ll,Bn((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+st(r)+"]",o);return i.tag===0?new C(0,[Nr([i.fields[0]],s.fields[0])]):new C(1,[i.fields[0]])}else return s},new C(0,[[]]),n))}else return new C(1,[[t,new R(0,["a seq",n])]])}function to(e,t,n){if(Array.isArray(n)){let r=-1;const s=n;return Bn((o,i)=>{if(r=r+1|0,o.tag===0){const u=o.fields[0],l=e(t+".["+st(r)+"]",i);return l.tag===0?(St(u,r,l.fields[0]),new C(0,[u])):new C(1,[l.fields[0]])}else return o},new C(0,[Pt(new Array(s.length),0,s.length,null)]),s)}else return new C(1,[[t,new R(0,["an array",n])]])}function h0(e,t,n){return((s,o)=>{e:for(;;){const i=s,u=o;if(H(i))return new C(1,[[t,new R(7,[u])]]);{const l=Si(t,fe(T(i)),n);if(l.tag===1){s=B(i),o=pr(u,He(l.fields[0]));continue e}else return new C(0,[l.fields[0]])}}})(e,Ve())}function m0(e,t,n){return new C(0,[e])}function no(e,t,n,r){const s=t(n,r);return s.tag===0?e(s.fields[0],n,r):new C(1,[s.fields[0]])}function _0(e,t,n,r){const s=t(n,r);return s.tag===1?new C(1,[s.fields[0]]):new C(0,[e(s.fields[0])])}function g0(e,t){let n;const r=e;return n=s=>o=>Qs(0,r,s,o),s=>o=>no(Hi(i=>{let u;const l=t;return u=c=>f=>Qs(1,l,c,f),c=>f=>no((d,m,p)=>m0([i,d]),fe(u),c,f)}),fe(n),s,o)}function p0(e){return fc(e,{Compare:Ne})}function w0(e){return zd(e,{Compare:Ne})}function y0(e,t,n){return n!==null&&Object.getPrototypeOf(n||!1)===Object.prototype?rl((r,s)=>{const o=r[0];return s.tag===0?ze(i=>Be(i,s.fields[0]),r[1](t+"."+o)(n[o])):s},e,new C(0,[Ve()])):new C(1,[[t,new R(0,["an object",n])]])}function S0(e,t,n,r){return r!==null&&Object.getPrototypeOf(r||!1)===Object.prototype?Ao((s,o)=>{if(s.tag===0){const i=e(n,o);if(i.tag===0){const u=t(n+"."+o,r[o]);return u.tag===0?new C(0,[Be([i.fields[0],u.fields[0]],s.fields[0])]):new C(1,[u.fields[0]])}else return new C(1,[i.fields[0]])}else return s},new C(0,[Ve()]),Object.keys(r)):new C(1,[[n,new R(0,["an object",r])]])}function Ci(e,t,n,r){let s;const o=t.length+e|0;if(o!==r.length)return new C(1,[[n,new R(6,[(s=r.length|0,In(Dn("Expected array of length %i but got %i"))(o)(s))])]]);{let i=new C(0,[Ve()]);for(let u=e;u<=r.length-1;u++)if(i.tag===0){const l=i.fields[0],c=In(Dn("%s[%i]"))(n)(u),f=D(u-e,t),d=D(u,r);i=ze(m=>Be(m,l),f(c)(d))}return ze(Br,i)}}function ro(e,t,n,r,s,o){const i=nl(u=>Ar(u)===r,iu(n));if(i!=null){const u=i,l=$r(c=>Le(e,t,!1,c[1]),au(u));return ze(c=>fu(u,Un(c)),l.length===0&&o.length<=1?new C(0,[Ve()]):Ci(1,l,s,o))}else return new C(1,[[s,new R(6,["Cannot find case "+r+" in "+ne(n)])]])}function so(e,t,n,r){let s;const o=new re(We());let i;const u=ne(r);i=u===""?e:Ho(u,o,e);let l;if(cu(r)){const c=$r(f=>[yd(t,Ar(f)),Le(i,t,!1,f[1])],kn(r));l=f=>d=>ze(m=>du(r,Un(m)),y0(c,f,d))}else if(lu(r))l=c=>f=>{if(typeof f=="string")return ro(i,t,r,f,c,[]);if(Array.isArray(f)){const d=f;return _l(m=>ro(i,t,r,m,c,d),bi(c+"[0]",D(0,d)))}else return new C(1,[[c,new R(0,["a string or array",f])]])};else if(n)l=c=>f=>new C(1,[[c,new R(2,["an extra coder for "+ne(r),f])]]);else throw new Error((s=ne(r),In(Dn(`Cannot generate auto decoder for %s. Please pass an extra decoder.

Documentation available at: https://thoth-org.github.io/Thoth.Json/documentation/auto/extra-coders.html#ready-to-use-extra-coders`))(s)));return o.contents=l,l}function Le(e,t,n,r){let s,o,i,u;const l=ne(r),c=cc(l,e);if(c==null)if(tu(r)){const f=Le(e,t,!1,On(r));return d=>m=>to(fe(f),d,m)}else if(_o(r))switch(ne(su(r))){case"System.SByte":return d=>m=>{const p=r,g=d,h=m,_=Xs(g)(h);if(_.tag===1)return new C(1,[_.fields[0]]);{const w=_.fields[0]|0;return Et(w,bt(p),{Equals:(M,S)=>M===S,GetHashCode:Xe})?new C(0,[Ct(p,w.toString())]):new C(1,[[g,new R(1,[ne(p),h,"Unkown value provided for the enum"])]])}};case"System.Byte":return d=>m=>{const p=r,g=d,h=m,_=Ks(g)(h);if(_.tag===1)return new C(1,[_.fields[0]]);{const w=_.fields[0];return Et(w,bt(p),{Equals:(M,S)=>M===S,GetHashCode:Xe})?new C(0,[Ct(p,w.toString())]):new C(1,[[g,new R(1,[ne(p),h,"Unkown value provided for the enum"])]])}};case"System.Int16":return d=>m=>{const p=r,g=d,h=m,_=js(g)(h);if(_.tag===1)return new C(1,[_.fields[0]]);{const w=_.fields[0]|0;return Et(w,bt(p),{Equals:(M,S)=>M===S,GetHashCode:Xe})?new C(0,[Ct(p,Fi(w))]):new C(1,[[g,new R(1,[ne(p),h,"Unkown value provided for the enum"])]])}};case"System.UInt16":return d=>m=>{const p=r,g=d,h=m,_=qs(g)(h);if(_.tag===1)return new C(1,[_.fields[0]]);{const w=_.fields[0];return Et(w,bt(p),{Equals:(M,S)=>M===S,GetHashCode:Xe})?new C(0,[Ct(p,w.toString())]):new C(1,[[g,new R(1,[ne(p),h,"Unkown value provided for the enum"])]])}};case"System.Int32":return d=>m=>{const p=r,g=d,h=m,_=zs(g)(h);if(_.tag===1)return new C(1,[_.fields[0]]);{const w=_.fields[0]|0;return Et(w,bt(p),{Equals:(M,S)=>M===S,GetHashCode:Xe})?new C(0,[Ct(p,st(w))]):new C(1,[[g,new R(1,[ne(p),h,"Unkown value provided for the enum"])]])}};case"System.UInt32":return d=>m=>{const p=r,g=d,h=m,_=Js(g)(h);if(_.tag===1)return new C(1,[_.fields[0]]);{const w=_.fields[0];return Et(w,bt(p),{Equals:(M,S)=>M===S,GetHashCode:Xe})?new C(0,[Ct(p,w.toString())]):new C(1,[[g,new R(1,[ne(p),h,"Unkown value provided for the enum"])]])}};default:{const d=ne(r),m=Yu(Dn(`Cannot generate auto decoder for %s.
Thoth.Json.Net only support the following enum types:
- sbyte
- byte
- int16
- uint16
- int
- uint32
If you can't use one of these types, please pass an extra decoder.
                    `))(d);return p=>m(p)}}else if(nu(r))if(go(r)){const f=$r(d=>Le(e,t,!1,d),uu(r));return d=>m=>Array.isArray(m)?ze(p=>hu(Un(p)),Ci(0,f,d,m)):new C(1,[[d,new R(0,["an array",m])]])}else switch(ne(ru(r))){case"Microsoft.FSharp.Core.FSharpOption`1[System.Object]":return s=Le(e,t,!0,D(0,Ke(r))),d=>m=>f0(fe(s),d,m);case"Microsoft.FSharp.Collections.FSharpList`1[System.Object]":return o=Le(e,t,!1,D(0,Ke(r))),d=>m=>eo(fe(o),d,m);case"System.Collections.Generic.IEnumerable`1[System.Object]":return i=Le(e,t,!1,D(0,Ke(r))),d=>m=>d0(fe(i),d,m);case"Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]":{const d=Le(e,t,!1,D(0,Ke(r))),m=Le(e,t,!1,D(1,Ke(r)));let p;const g=Hr([h=>_=>S0(fe(d),fe(m),h,_),(u=g0(fe(d),fe(m)),h=>_=>eo(fe(u),h,_))]);return p=h=>_=>h0(g,h,_),h=>_=>_0(p0,fe(p),h,_)}case"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]":{const d=Le(e,t,!1,D(0,Ke(r)));return m=>p=>{const g=to(fe(d),m,p);return g.tag===0?new C(0,[w0(g.fields[0])]):new C(1,[g.fields[0]])}}default:return so(e,t,n,r)}else switch(l){case"System.Boolean":return f=>d=>o0(f,d);case"Microsoft.FSharp.Core.Unit":return f=>d=>r0(f,d);case"System.String":return f=>d=>bi(f,d);case"System.Char":return f=>d=>t0(f,d);case"System.SByte":return Xs;case"System.Byte":return Ks;case"System.Int16":return js;case"System.UInt16":return qs;case"System.Int32":return zs;case"System.UInt32":return Js;case"System.Double":return f=>d=>i0(f,d);case"System.Single":return f=>d=>u0(f,d);case"System.DateTime":return f=>d=>l0(f,d);case"System.DateTimeOffset":return f=>d=>c0(f,d);case"System.TimeSpan":return f=>d=>a0(f,d);case"System.Guid":return f=>d=>n0(f,d);case"System.Object":return f=>d=>new C(0,[d]);default:return so(e,t,n,r)}else{const f=c;return d=>m=>f.contents(d)(m)}}function b0(e){return e!=null?ac((t,n)=>new re(n[1]),e.Coders):Uo({Compare:uo})}function C0(e,t,n){let r,s;const o=y(t,new fi(0,[]));return pd(wd,(r=(s=ne(e),Pe(o)+s),y(gu(i=>i.Hash,n),"")+r),()=>Le(b0(n),o,!1,e))}class M0 extends ${constructor(t,n,r,s){super(),this.Texture=t,this.Rect=n,this.Offset=r,this.MetaData=s}}function E0(e){return ln("Imp.SpriteHelpers.Models.Layer`1",[e],M0,()=>[["Texture",Fr],["Rect",Pc()],["Offset",Lc()],["MetaData",e]])}class x0 extends ${constructor(t){super(),this.Layers=t}}function R0(e){return ln("Imp.SpriteHelpers.Models.Frame`1",[e],x0,()=>[["Layers",mo(E0(e))]])}class k0 extends ${constructor(t,n){super(),this.Name=t,this.Frames=n}}function T0(e){return ln("Imp.SpriteHelpers.Models.SpriteInfo`1",[e],k0,()=>[["Name",Fr],["Frames",mo(R0(e))]])}function D0(e){return String(e)}const I0=new di("",Uo({Compare:uo})),v0=new fi(1,[]),V0=new di((()=>Ed())(),Ho("System.Int64",[D0,s0],I0.Coders));function F0(){let e,t,n,r,s;return ie((e=void 0,t=void 0,n=void 0,r=void 0,s=void 0,oe(y(void 0,""),y(void 0,0),y(void 0,0),y(1,0),y(void 0,0),y(void 0,0),e??void 0,t??void 0,n??void 0,r??void 0,s??void 0)),o=>{const i=Ka(Xa(y(void 0,""),u=>{const l=u;return new Kr(l.Time,l.Resolution,l.Offset,l.VertexBuffer,l.TextureDetails,l.TextureLayer,[0,10])}),u=>{const l=bf(Cf(new gf(0,130,130)),c=>{let f;const d=c;(f=Kn(jn(),p=>{let g,h,_;const w=p;(g=Yf("FrameRate"),k=>{k.push(new v(4,[g]))})(w);const M=w;(h=jf("DemoWindow"),k=>{k.push(new v(4,[h]))})(M);const S=M;(_=zf("DemoMouse"),k=>{k.push(new v(4,[_]))})(S);const x=qf("DemoMouse");S.push(new v(4,[x]))}),p=>{p.push(new v(2,[f]))})(d);const m=md("SmallWorld");d.push(new v(4,[m]))});u.push(new v(2,[l]))});o.push(new v(3,[i]))})}function A0(){An(An()+1)}function O0(e,t){const n=ui(_e),r=e;r["Imp.Setup.DataManager.LoadString"]("Sprites.json",s=>{const o=W(e0(fe(C0(Qi(T0(Fr)),v0,V0)),s));try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();n.set(i.Name,i);const u=i.Frames;for(let l=0;l<=u.length-1;l++){const c=D(l,u).Layers;for(let f=0;f<=c.length-1;f++)Bl(D(f,c).Texture,ii(r))}}}finally{J(o)}(()=>{t["Imp.Setup.Display.AttachInputZ2D84AEB6"](u=>{u.AttachKeyboard(),u.AttachGamepad(),u.AttachMouse()});const i=F0();t["Imp.Setup.Display.AttachView"](e,i,()=>{A0()}),t["Imp.Setup.Display.Run"]()})()})}const L0=df("Data"),P0=_f("App",800,600);O0(L0,P0);
